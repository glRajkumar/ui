{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "menubar",
  "type": "registry:ui",
  "title": "Menubar",
  "description": "Menubar componet with wrapper",
  "registryDependencies": [
    "menubar"
  ],
  "files": [
    {
      "path": "types/general.d.ts",
      "content": "type readOnlyChildren = Readonly<{\r\n  children: React.ReactNode;\r\n}>\r\n\r\ntype allowedPrimitiveT = string | number | boolean\r\n\r\ntype optionT = {\r\n  label: React.ReactNode\r\n  value: allowedPrimitiveT\r\n  className?: string\r\n}\r\n\r\ntype groupT = {\r\n  group: string\r\n  options: (allowedPrimitiveT | optionT)[]\r\n  className?: string\r\n}\r\n\r\ntype optionsT = (allowedPrimitiveT | optionT | groupT)[]\r\n\r\ntype indicatorAtT = \"right\" | \"left\"",
      "type": "registry:file",
      "target": "types/general.d.ts"
    },
    {
      "path": "types/dropdown.d.ts",
      "content": "type dropdownOptionT = allowedPrimitiveT | optionT | (optionT & {\r\n  variant?: \"default\" | \"destructive\"\r\n  shortcut?: string\r\n  disabled?: boolean\r\n})\r\n\r\ntype dropdownGroupT = {\r\n  group: string\r\n  options: dropdownOptionT[]\r\n  className?: string\r\n  groupLabelCls?: string\r\n}\r\n\r\ntype dropdownSubMenuT = {\r\n  submenu: string\r\n  options: (dropdownOptionT | dropdownGroupT)[]\r\n  triggerCls?: string\r\n  contentCls?: string\r\n}\r\n\r\ntype dropdownOptionsT = (dropdownOptionT | dropdownGroupT | dropdownSubMenuT)[]\r\n\r\ntype dropdownInputOptionT = allowedPrimitiveT | optionT | (optionT & {\r\n  disabled?: boolean\r\n})\r\n\r\ntype dropdownInputGroupT = {\r\n  group: string\r\n  options: dropdownInputOptionT[]\r\n  className?: string\r\n  groupLabelCls?: string\r\n}\r\n\r\ntype dropdownInputSubMenuT = {\r\n  submenu: string\r\n  options: (dropdownInputOptionT | dropdownInputGroupT)[]\r\n  triggerCls?: string\r\n  contentCls?: string\r\n}\r\n\r\ntype dropdownInputOptionsT = (dropdownInputOptionT | dropdownInputGroupT | dropdownInputSubMenuT)[]\r\n",
      "type": "registry:file",
      "target": "types/dropdown.d.ts"
    },
    {
      "path": "components/ui/menubar.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Menubar({\n  className,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Root>) {\n  return (\n    <MenubarPrimitive.Root\n      data-slot=\"menubar\"\n      className={cn(\n        \"bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarMenu(props: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu data-slot=\"menubar-menu\" {...props} />\n}\n\nfunction MenubarGroup(props: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group data-slot=\"menubar-group\" {...props} />\n}\n\nfunction MenubarPortal(props: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal data-slot=\"menubar-portal\" {...props} />\n}\n\nfunction MenubarRadioGroup(props: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return (\n    <MenubarPrimitive.RadioGroup data-slot=\"menubar-radio-group\" {...props} />\n  )\n}\n\nfunction MenubarTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Trigger>) {\n  return (\n    <MenubarPrimitive.Trigger\n      data-slot=\"menubar-trigger\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarContent({\n  className,\n  align = \"start\",\n  alignOffset = -4,\n  sideOffset = 8,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Content>) {\n  return (\n    <MenubarPortal>\n      <MenubarPrimitive.Content\n        data-slot=\"menubar-content\"\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPortal>\n  )\n}\n\nfunction MenubarItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <MenubarPrimitive.Item\n      data-slot=\"menubar-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarCheckboxItem({\n  className,\n  children,\n  checked,\n  indicatorAt = \"right\",\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.CheckboxItem> & { indicatorAt?: indicatorAtT }) {\n  return (\n    <MenubarPrimitive.CheckboxItem\n      data-slot=\"menubar-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n        indicatorAt === \"right\" ? \"pr-8 pl-2\" : \"pr-2 pl-8\",\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className={cn(\"pointer-events-none absolute flex size-3.5 items-center justify-center\", indicatorAt === \"right\" ? \"right-2\" : \"left-2\")}>\n        <MenubarPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </MenubarPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </MenubarPrimitive.CheckboxItem>\n  )\n}\n\nfunction MenubarRadioItem({\n  className,\n  children,\n  indicatorAt = \"right\",\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioItem> & { indicatorAt?: indicatorAtT }) {\n  return (\n    <MenubarPrimitive.RadioItem\n      data-slot=\"menubar-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n        indicatorAt === \"right\" ? \"pr-8 pl-2\" : \"pr-2 pl-8\",\n      )}\n      {...props}\n    >\n      <span className={cn(\"pointer-events-none absolute flex size-3.5 items-center justify-center\", indicatorAt === \"right\" ? \"right-2\" : \"left-2\")}>\n        <MenubarPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </MenubarPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </MenubarPrimitive.RadioItem>\n  )\n}\n\nfunction MenubarLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <MenubarPrimitive.Label\n      data-slot=\"menubar-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Separator>) {\n  return (\n    <MenubarPrimitive.Separator\n      data-slot=\"menubar-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"menubar-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction MenubarSub(props: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nfunction MenubarSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <MenubarPrimitive.SubTrigger\n      data-slot=\"menubar-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-none select-none data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto h-4 w-4\" />\n    </MenubarPrimitive.SubTrigger>\n  )\n}\n\nfunction MenubarSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.SubContent>) {\n  return (\n    <MenubarPrimitive.SubContent\n      data-slot=\"menubar-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Menubar,\n  MenubarPortal,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarGroup,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarItem,\n  MenubarShortcut,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarSub,\n  MenubarSubTrigger,\n  MenubarSubContent,\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/menubar-wrapper.tsx",
      "content": "\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport {\r\n  cn, getKey, getLabel, getValue,\r\n  isSeparator,\r\n  isDropdownGroup,\r\n  isDropdownSubMenu,\r\n  isDropdownInputGroup,\r\n  isDropdownInputSubMenu,\r\n  parseAllowedPrimitive,\r\n} from \"@/lib/utils\"\r\n\r\nimport {\r\n  Menubar,\r\n  MenubarTrigger,\r\n  MenubarContent,\r\n  MenubarGroup,\r\n  MenubarLabel,\r\n  MenubarItem,\r\n  MenubarCheckboxItem,\r\n  MenubarRadioGroup,\r\n  MenubarRadioItem,\r\n  MenubarSeparator,\r\n  MenubarShortcut,\r\n  MenubarSub,\r\n  MenubarSubTrigger,\r\n  MenubarSubContent,\r\n  MenubarMenu,\r\n} from \"@/components/ui/menubar\"\r\n\r\ntype commomClsT = {\r\n  itemCls?: string\r\n  groupCls?: string\r\n  groupLabelCls?: string\r\n}\r\n\r\ntype commonCheckboxProps = {\r\n  checked?: allowedPrimitiveT[]\r\n  indicatorAt?: indicatorAtT\r\n  onCheckedChange?: (value: allowedPrimitiveT, checked: boolean) => void\r\n}\r\n\r\ntype commonRadioProps = {\r\n  value?: allowedPrimitiveT\r\n  indicatorAt?: indicatorAtT\r\n  onValueChange?: (value: allowedPrimitiveT) => void\r\n}\r\n\r\ntype commonInner = commomClsT & {\r\n  trigger: React.ReactNode\r\n  contentProps?: React.ComponentProps<typeof MenubarContent>\r\n}\r\n\r\ntype menubarBaseT = commomClsT & {\r\n  key: string\r\n  trigger: React.ReactNode\r\n  contentProps?: React.ComponentProps<typeof MenubarContent>\r\n}\r\n\r\ntype menubarOptionsT = (menubarBaseT & {\r\n  options: dropdownOptionsT\r\n  onSelect?: (value: allowedPrimitiveT) => void\r\n})[]\r\n\r\ntype menubarInputOptionT = menubarBaseT & {\r\n  options: dropdownInputOptionsT\r\n}\r\n\r\ntype menubarCheckboxOptionsT = (menubarInputOptionT & commonCheckboxProps)[]\r\ntype menubarRadioOptionsT = (menubarInputOptionT & commonRadioProps)[]\r\n\r\ntype commonWrapT = commomClsT & Omit<React.ComponentProps<typeof Menubar>, \"children\" | \"asChild\" | \"value\"> & {\r\n  contentProps?: React.ComponentProps<typeof MenubarContent>\r\n}\r\n\r\n// -------\r\n\r\ntype itemProps = {\r\n  option: dropdownOptionT\r\n  className?: string\r\n  onSelect?: () => void\r\n}\r\nfunction Item({\r\n  option,\r\n  className,\r\n  onSelect\r\n}: itemProps) {\r\n  const value = getValue(option)\r\n\r\n  if (isSeparator(value)) return <MenubarSeparator className={className} />\r\n\r\n  const label = getLabel(option)\r\n  const opt: any = typeof option === \"object\" ? option : {}\r\n  const shortcut = opt?.shortcut\r\n\r\n  return (\r\n    <MenubarItem\r\n      {...opt}\r\n      onSelect={onSelect}\r\n      className={cn(className, opt?.className)}\r\n    >\r\n      {label}\r\n      {shortcut && <MenubarShortcut>{shortcut}</MenubarShortcut>}\r\n    </MenubarItem>\r\n  )\r\n}\r\n\r\ntype checkboxItemProps = {\r\n  option: dropdownInputOptionT\r\n  className?: string\r\n  checked?: boolean\r\n  onCheckedChange?: (checked: boolean) => void\r\n  indicatorAt?: indicatorAtT\r\n}\r\nfunction CheckboxItem({\r\n  option,\r\n  className,\r\n  checked = false,\r\n  indicatorAt,\r\n  onCheckedChange = () => { }\r\n}: checkboxItemProps) {\r\n  const value = getValue(option)\r\n\r\n  if (isSeparator(value)) return <MenubarSeparator className={className} />\r\n\r\n  const label = getLabel(option)\r\n  const disabled = (option as any)?.disabled\r\n\r\n  return (\r\n    <MenubarCheckboxItem\r\n      checked={checked}\r\n      disabled={disabled}\r\n      className={className}\r\n      indicatorAt={indicatorAt}\r\n      onCheckedChange={onCheckedChange}\r\n    >\r\n      {label}\r\n    </MenubarCheckboxItem>\r\n  )\r\n}\r\n\r\ntype radioItemProps = {\r\n  option: dropdownInputOptionT\r\n  className?: string\r\n  indicatorAt?: indicatorAtT\r\n}\r\nfunction RadioItem({\r\n  option,\r\n  className,\r\n  indicatorAt\r\n}: radioItemProps) {\r\n  const value = getValue(option)\r\n\r\n  if (isSeparator(value)) return <MenubarSeparator className={className} />\r\n\r\n  const label = getLabel(option)\r\n  const disabled = (option as any)?.disabled\r\n\r\n  return (\r\n    <MenubarRadioItem\r\n      value={`${value}`}\r\n      disabled={disabled}\r\n      className={className}\r\n      indicatorAt={indicatorAt}\r\n    >\r\n      {label}\r\n    </MenubarRadioItem>\r\n  )\r\n}\r\n\r\ntype SubMenuProps = commomClsT & {\r\n  submenu: dropdownSubMenuT\r\n  onSelect?: (value: allowedPrimitiveT) => void\r\n}\r\nfunction SubMenu({\r\n  submenu,\r\n  itemCls,\r\n  groupCls,\r\n  groupLabelCls,\r\n  onSelect\r\n}: SubMenuProps) {\r\n  return (\r\n    <MenubarSub>\r\n      <MenubarSubTrigger className={submenu.triggerCls}>\r\n        {submenu.submenu}\r\n      </MenubarSubTrigger>\r\n\r\n      <MenubarSubContent className={submenu.contentCls}>\r\n        {submenu.options.map((option, i) => {\r\n          if (isDropdownGroup(option)) {\r\n            return (\r\n              <MenubarGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                <MenubarLabel className={cn(\"pb-0.5 text-xs text-muted-foreground font-normal\", groupLabelCls, option.groupLabelCls)}>\r\n                  {option.group}\r\n                </MenubarLabel>\r\n\r\n                {option.options.map((grOpt, j) => (\r\n                  <Item\r\n                    key={getKey(grOpt, j)}\r\n                    option={grOpt}\r\n                    className={itemCls}\r\n                    onSelect={() => onSelect?.(getValue(grOpt))}\r\n                  />\r\n                ))}\r\n              </MenubarGroup>\r\n            )\r\n          }\r\n\r\n          if (isDropdownSubMenu(option)) {\r\n            return (\r\n              <SubMenu\r\n                key={getKey(option, i)}\r\n                submenu={option}\r\n                itemCls={itemCls}\r\n                groupCls={groupCls}\r\n                onSelect={onSelect}\r\n              />\r\n            )\r\n          }\r\n\r\n          return (\r\n            <Item\r\n              key={getKey(option, i)}\r\n              option={option}\r\n              className={itemCls}\r\n              onSelect={() => onSelect?.(getValue(option))}\r\n            />\r\n          )\r\n        })}\r\n      </MenubarSubContent>\r\n    </MenubarSub>\r\n  )\r\n}\r\n\r\ntype CheckboxSubMenuProps = commomClsT & commonCheckboxProps & {\r\n  submenu: dropdownInputSubMenuT\r\n}\r\nfunction CheckboxSubMenu({\r\n  submenu,\r\n  itemCls,\r\n  groupCls,\r\n  groupLabelCls,\r\n  checked = [],\r\n  indicatorAt,\r\n  onCheckedChange = () => { }\r\n}: CheckboxSubMenuProps) {\r\n  return (\r\n    <MenubarSub>\r\n      <MenubarSubTrigger className={submenu.triggerCls}>\r\n        {submenu.submenu}\r\n      </MenubarSubTrigger>\r\n\r\n      <MenubarSubContent className={submenu.contentCls}>\r\n        {submenu.options.map((option, i) => {\r\n          if (isDropdownInputGroup(option)) {\r\n            return (\r\n              <MenubarGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                <MenubarLabel className={cn(\"pb-0.5 text-xs text-muted-foreground font-normal\", groupLabelCls, option.groupLabelCls)}>\r\n                  {option.group}\r\n                </MenubarLabel>\r\n\r\n                {option.options.map((grOpt, j) => {\r\n                  const v = getValue(grOpt)\r\n                  return (\r\n                    <CheckboxItem\r\n                      key={getKey(grOpt, j)}\r\n                      option={grOpt}\r\n                      checked={checked.includes(v)}\r\n                      className={itemCls}\r\n                      indicatorAt={indicatorAt}\r\n                      onCheckedChange={(checked) => onCheckedChange?.(v, checked)}\r\n                    />\r\n                  )\r\n                })}\r\n              </MenubarGroup>\r\n            )\r\n          }\r\n\r\n          if (isDropdownInputSubMenu(option)) {\r\n            return (\r\n              <CheckboxSubMenu\r\n                key={option.submenu}\r\n                submenu={option}\r\n                checked={checked}\r\n                itemCls={itemCls}\r\n                groupCls={groupCls}\r\n                indicatorAt={indicatorAt}\r\n                groupLabelCls={groupLabelCls}\r\n                onCheckedChange={onCheckedChange}\r\n              />\r\n            )\r\n          }\r\n\r\n          const v = getValue(option)\r\n          return (\r\n            <CheckboxItem\r\n              key={getKey(option, i)}\r\n              option={option}\r\n              checked={checked.includes(v)}\r\n              className={itemCls}\r\n              indicatorAt={indicatorAt}\r\n              onCheckedChange={(checked) => onCheckedChange?.(v, checked)}\r\n            />\r\n          )\r\n        })}\r\n      </MenubarSubContent>\r\n    </MenubarSub>\r\n  )\r\n}\r\n\r\ntype RadioSubMenuProps = commomClsT & commonRadioProps & {\r\n  submenu: dropdownInputSubMenuT\r\n}\r\nfunction RadioSubMenu({\r\n  submenu,\r\n  itemCls,\r\n  groupCls,\r\n  groupLabelCls,\r\n  value = \"\",\r\n  indicatorAt,\r\n  onValueChange = () => { }\r\n}: RadioSubMenuProps) {\r\n  return (\r\n    <MenubarSub>\r\n      <MenubarSubTrigger className={submenu.triggerCls}>\r\n        {submenu.submenu}\r\n      </MenubarSubTrigger>\r\n\r\n      <MenubarSubContent className={submenu.contentCls}>\r\n        <MenubarRadioGroup value={`${value}`} onValueChange={onValueChange}>\r\n          {submenu.options.map((option, i) => {\r\n            if (isDropdownInputGroup(option)) {\r\n              return (\r\n                <MenubarGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                  <MenubarLabel className={cn(\"pb-0.5 text-xs text-muted-foreground font-normal\", groupLabelCls, option.groupLabelCls)}>\r\n                    {option.group}\r\n                  </MenubarLabel>\r\n\r\n                  {option.options.map((grOpt, j) => (\r\n                    <RadioItem\r\n                      key={getKey(grOpt, j)}\r\n                      option={grOpt}\r\n                      className={itemCls}\r\n                      indicatorAt={indicatorAt}\r\n                    />\r\n                  ))}\r\n                </MenubarGroup>\r\n              )\r\n            }\r\n\r\n            if (isDropdownInputSubMenu(option)) {\r\n              return (\r\n                <RadioSubMenu\r\n                  key={option.submenu}\r\n                  value={value}\r\n                  submenu={option}\r\n                  itemCls={itemCls}\r\n                  groupCls={groupCls}\r\n                  indicatorAt={indicatorAt}\r\n                  groupLabelCls={groupLabelCls}\r\n                  onValueChange={onValueChange}\r\n                />\r\n              )\r\n            }\r\n\r\n            return (\r\n              <RadioItem\r\n                key={getKey(option, i)}\r\n                option={option}\r\n                className={itemCls}\r\n                indicatorAt={indicatorAt}\r\n              />\r\n            )\r\n          })}\r\n        </MenubarRadioGroup>\r\n      </MenubarSubContent>\r\n    </MenubarSub>\r\n  )\r\n}\r\n\r\ntype wrapperInner = commonInner & {\r\n  options: dropdownOptionsT\r\n  onSelect?: (value: allowedPrimitiveT) => void\r\n}\r\nfunction MenubarWrapperInner({\r\n  trigger,\r\n  options,\r\n  itemCls,\r\n  groupCls,\r\n  groupLabelCls,\r\n  contentProps,\r\n  onSelect\r\n}: wrapperInner) {\r\n  return (\r\n    <MenubarMenu>\r\n      <MenubarTrigger asChild={typeof trigger !== \"string\"}>\r\n        {trigger}\r\n      </MenubarTrigger>\r\n\r\n      <MenubarContent {...contentProps}>\r\n        {options.map((option, i) => {\r\n          if (isDropdownGroup(option)) {\r\n            return (\r\n              <MenubarGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                <MenubarLabel className={cn(\"pb-0.5 text-xs text-muted-foreground font-normal\", groupLabelCls, option.groupLabelCls)}>\r\n                  {option.group}\r\n                </MenubarLabel>\r\n\r\n                {option.options.map((grOpt, j) => (\r\n                  <Item\r\n                    key={getKey(grOpt, j)}\r\n                    option={grOpt}\r\n                    className={itemCls}\r\n                    onSelect={() => onSelect?.(getValue(grOpt))}\r\n                  />\r\n                ))}\r\n              </MenubarGroup>\r\n            )\r\n          }\r\n\r\n          if (isDropdownSubMenu(option)) {\r\n            return (\r\n              <SubMenu\r\n                key={option.submenu}\r\n                submenu={option}\r\n                itemCls={itemCls}\r\n                groupCls={groupCls}\r\n                groupLabelCls={groupLabelCls}\r\n                onSelect={onSelect}\r\n              />\r\n            )\r\n          }\r\n\r\n          return (\r\n            <Item\r\n              key={getKey(option, i)}\r\n              option={option}\r\n              className={itemCls}\r\n              onSelect={() => onSelect?.(getValue(option))}\r\n            />\r\n          )\r\n        })}\r\n      </MenubarContent>\r\n    </MenubarMenu>\r\n  )\r\n}\r\n\r\ntype checkboxWrapperInner = commonInner & commonCheckboxProps & {\r\n  options: dropdownInputOptionsT\r\n  label?: string\r\n}\r\nfunction MenubarCheckboxWrapperInner({\r\n  trigger,\r\n  options,\r\n\r\n  label,\r\n  contentProps,\r\n  itemCls,\r\n  groupCls,\r\n  groupLabelCls,\r\n\r\n  checked: o_checked,\r\n  onCheckedChange: o_onCheckedChange,\r\n\r\n  indicatorAt,\r\n}: checkboxWrapperInner) {\r\n  const [i_checked, setIChecked] = useState<allowedPrimitiveT[]>([])\r\n\r\n  function i_Checked(v: allowedPrimitiveT, c: boolean) {\r\n    setIChecked(prev => !c ? prev.filter(p => p !== v) : [...prev, v])\r\n  }\r\n\r\n  const checked = o_checked ?? i_checked\r\n  const onCheckedChange = o_onCheckedChange ?? i_Checked\r\n\r\n  return (\r\n    <MenubarMenu>\r\n      <MenubarTrigger asChild={typeof trigger !== \"string\"}>\r\n        {trigger}\r\n      </MenubarTrigger>\r\n\r\n      <MenubarContent {...contentProps}>\r\n        {label && (\r\n          <>\r\n            <MenubarLabel>{label}</MenubarLabel>\r\n            <MenubarSeparator />\r\n          </>\r\n        )}\r\n        {options.map((option, i) => {\r\n          if (isDropdownInputGroup(option)) {\r\n            return (\r\n              <MenubarGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                <MenubarLabel className={cn(\"pb-0.5 text-xs text-muted-foreground font-normal\", groupLabelCls, option.groupLabelCls)}>\r\n                  {option.group}\r\n                </MenubarLabel>\r\n\r\n                {option.options.map((grOpt, j) => {\r\n                  const v = getValue(grOpt)\r\n                  return (\r\n                    <CheckboxItem\r\n                      key={getKey(grOpt, j)}\r\n                      option={grOpt}\r\n                      checked={checked.includes(v)}\r\n                      className={itemCls}\r\n                      indicatorAt={indicatorAt}\r\n                      onCheckedChange={(checked) => onCheckedChange?.(v, checked)}\r\n                    />\r\n                  )\r\n                })}\r\n              </MenubarGroup>\r\n            )\r\n          }\r\n\r\n          if (isDropdownInputSubMenu(option)) {\r\n            return (\r\n              <CheckboxSubMenu\r\n                key={option.submenu}\r\n                submenu={option}\r\n                checked={checked}\r\n                itemCls={itemCls}\r\n                groupCls={groupCls}\r\n                indicatorAt={indicatorAt}\r\n                groupLabelCls={groupLabelCls}\r\n                onCheckedChange={onCheckedChange}\r\n              />\r\n            )\r\n          }\r\n\r\n          const v = getValue(option)\r\n          return (\r\n            <CheckboxItem\r\n              key={getKey(option, i)}\r\n              option={option}\r\n              checked={checked.includes(v)}\r\n              className={itemCls}\r\n              indicatorAt={indicatorAt}\r\n              onCheckedChange={(checked) => onCheckedChange?.(v, checked)}\r\n            />\r\n          )\r\n        })}\r\n      </MenubarContent>\r\n    </MenubarMenu>\r\n  )\r\n}\r\n\r\ntype radioWrapperInner = commonInner & commonRadioProps & {\r\n  options: dropdownInputOptionsT\r\n  label?: string\r\n}\r\nfunction MenubarRadioWrapperInner({\r\n  trigger,\r\n  options,\r\n\r\n  label,\r\n  itemCls,\r\n  groupCls,\r\n  groupLabelCls,\r\n  contentProps,\r\n\r\n  value: o_value,\r\n  onValueChange: o_onValueChange,\r\n\r\n  indicatorAt,\r\n}: radioWrapperInner) {\r\n  const [i_value, setIValue] = useState<allowedPrimitiveT>(\"\")\r\n\r\n  const value = o_value ?? i_value\r\n  const onValueChange = o_onValueChange ?? setIValue\r\n\r\n  return (\r\n    <MenubarMenu>\r\n      <MenubarTrigger asChild={typeof trigger !== \"string\"}>\r\n        {trigger}\r\n      </MenubarTrigger>\r\n\r\n      <MenubarContent {...contentProps}>\r\n        {label && (\r\n          <>\r\n            <MenubarLabel>{label}</MenubarLabel>\r\n            <MenubarSeparator />\r\n          </>\r\n        )}\r\n        <MenubarRadioGroup value={`${value}`} onValueChange={v => onValueChange(parseAllowedPrimitive(v))}>\r\n          {options.map((option, i) => {\r\n            if (isDropdownInputGroup(option)) {\r\n              return (\r\n                <MenubarGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                  <MenubarLabel className={cn(\"pb-0.5 text-xs text-muted-foreground font-normal\", groupLabelCls, option.groupLabelCls)}>\r\n                    {option.group}\r\n                  </MenubarLabel>\r\n\r\n                  {option.options.map((grOpt, j) => (\r\n                    <RadioItem\r\n                      key={getKey(grOpt, j)}\r\n                      option={grOpt}\r\n                      className={itemCls}\r\n                      indicatorAt={indicatorAt}\r\n                    />\r\n                  ))}\r\n                </MenubarGroup>\r\n              )\r\n            }\r\n\r\n            if (isDropdownInputSubMenu(option)) {\r\n              return (\r\n                <RadioSubMenu\r\n                  key={option.submenu}\r\n                  value={value}\r\n                  submenu={option}\r\n                  itemCls={itemCls}\r\n                  groupCls={groupCls}\r\n                  indicatorAt={indicatorAt}\r\n                  groupLabelCls={groupLabelCls}\r\n                  onValueChange={v => onValueChange(parseAllowedPrimitive(v))}\r\n                />\r\n              )\r\n            }\r\n\r\n            return (\r\n              <RadioItem\r\n                key={getKey(option, i)}\r\n                option={option}\r\n                className={itemCls}\r\n                indicatorAt={indicatorAt}\r\n              />\r\n            )\r\n          })}\r\n        </MenubarRadioGroup>\r\n      </MenubarContent>\r\n    </MenubarMenu>\r\n  )\r\n}\r\n\r\ntype wrap = commonWrapT & {\r\n  options: menubarOptionsT\r\n  onSelect?: (value: allowedPrimitiveT) => void\r\n}\r\nfunction MenubarWrapper({\r\n  options,\r\n  itemCls,\r\n  groupCls,\r\n  groupLabelCls,\r\n  contentProps,\r\n  onSelect,\r\n  ...props\r\n}: wrap) {\r\n  return (\r\n    <Menubar {...props}>\r\n      {\r\n        options.map(op => (\r\n          <MenubarWrapperInner\r\n            key={op.key}\r\n            trigger={op.trigger}\r\n            options={op.options}\r\n            itemCls={cn(itemCls, op.itemCls)}\r\n            groupCls={cn(groupCls, op.groupCls)}\r\n            groupLabelCls={cn(groupLabelCls, op.groupLabelCls)}\r\n            contentProps={{ ...contentProps, ...op?.contentProps }}\r\n            onSelect={op?.onSelect || onSelect}\r\n          />\r\n        ))\r\n      }\r\n    </Menubar>\r\n  )\r\n}\r\n\r\ntype wrapCheckboxT = commonWrapT & commonCheckboxProps & {\r\n  options: menubarCheckboxOptionsT\r\n}\r\nfunction MenubarCheckboxWrapper({\r\n  options,\r\n\r\n  contentProps,\r\n  itemCls,\r\n  groupCls,\r\n  groupLabelCls,\r\n\r\n  checked,\r\n  onCheckedChange,\r\n\r\n  indicatorAt,\r\n  ...props\r\n}: wrapCheckboxT) {\r\n  return (\r\n    <Menubar {...props}>\r\n      {options.map(op => (\r\n        <MenubarCheckboxWrapperInner\r\n          key={op.key}\r\n          trigger={op.trigger}\r\n          options={op.options}\r\n          itemCls={cn(itemCls, op.itemCls)}\r\n          groupCls={cn(groupCls, op.groupCls)}\r\n          groupLabelCls={cn(groupLabelCls, op.groupLabelCls)}\r\n          contentProps={{ ...contentProps, ...op?.contentProps }}\r\n          onCheckedChange={op.onCheckedChange ?? onCheckedChange}\r\n          indicatorAt={op.indicatorAt ?? indicatorAt}\r\n          checked={op.checked ?? checked}\r\n        />\r\n      ))}\r\n    </Menubar>\r\n  )\r\n}\r\n\r\ntype wrapRadioT = commonWrapT & commonRadioProps & {\r\n  options: menubarRadioOptionsT\r\n}\r\nfunction MenubarRadioWrapper({\r\n  options,\r\n\r\n  contentProps,\r\n  itemCls,\r\n  groupCls,\r\n  groupLabelCls,\r\n\r\n  value,\r\n  onValueChange,\r\n\r\n  indicatorAt,\r\n  ...props\r\n}: wrapRadioT) {\r\n  return (\r\n    <Menubar {...props}>\r\n      {options.map(op => (\r\n        <MenubarRadioWrapperInner\r\n          key={op.key}\r\n          trigger={op.trigger}\r\n          options={op.options}\r\n          itemCls={cn(itemCls, op.itemCls)}\r\n          groupCls={cn(groupCls, op.groupCls)}\r\n          groupLabelCls={cn(groupLabelCls, op.groupLabelCls)}\r\n          contentProps={{ ...contentProps, ...op?.contentProps }}\r\n          onValueChange={op.onValueChange ?? onValueChange}\r\n          indicatorAt={op.indicatorAt ?? indicatorAt}\r\n          value={op.value ?? value}\r\n        />\r\n      ))}\r\n    </Menubar>\r\n  )\r\n}\r\n\r\nexport {\r\n  MenubarWrapper,\r\n  MenubarCheckboxWrapper,\r\n  MenubarRadioWrapper,\r\n  type menubarOptionsT,\r\n  type menubarCheckboxOptionsT,\r\n  type menubarRadioOptionsT,\r\n}",
      "type": "registry:ui"
    },
    {
      "path": "lib/utils.ts",
      "content": "import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function isAllowedPrimitive(value: unknown): value is allowedPrimitiveT {\r\n  return [\"string\", \"number\", \"boolean\"].includes(typeof value)\r\n}\r\n\r\nexport function parseAllowedPrimitive(value: allowedPrimitiveT): allowedPrimitiveT {\r\n  if (typeof value !== \"string\") return value\r\n\r\n  const trimmed = value.trim()\r\n\r\n  if (trimmed === \"true\") return true\r\n  if (trimmed === \"false\") return false\r\n  if (/^-?\\d+(\\.\\d+)?$/.test(trimmed)) return Number(trimmed)\r\n\r\n  return trimmed\r\n}\r\n\r\nexport function optionTypeChecker<T>(key: keyof T) {\r\n  return (option: any): option is T => !!option && typeof option === \"object\" && key in option\r\n}\r\n\r\nexport const isSeparator = (item: any) => item === \"---\"\r\nexport const isOption = optionTypeChecker<optionT>(\"value\")\r\nexport const isGroup = optionTypeChecker<groupT>(\"group\")\r\n\r\nexport const getValue = (item: allowedPrimitiveT | optionT) => typeof item === \"object\" ? item.value : item\r\nexport const getLabel = (item: allowedPrimitiveT | optionT) => typeof item === \"object\" ? item.label : `${item}`\r\n\r\nexport function getKey(item: allowedPrimitiveT | optionT, i: number): string {\r\n  const val = getValue(item)\r\n  if (typeof val === \"boolean\") return `key-${val}`\r\n  if (val === \"---\") return `${i}`\r\n  return `${val}`\r\n}\r\n\r\nexport const isDropdownGroup = optionTypeChecker<dropdownGroupT>(\"group\")\r\nexport const isDropdownSubMenu = optionTypeChecker<dropdownSubMenuT>(\"submenu\")\r\nexport const isDropdownInputGroup = optionTypeChecker<dropdownInputGroupT>(\"group\")\r\nexport const isDropdownInputSubMenu = optionTypeChecker<dropdownInputSubMenuT>(\"submenu\")\r\n",
      "type": "registry:lib"
    }
  ]
}