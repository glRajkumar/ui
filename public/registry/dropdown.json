{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "dropdown",
  "type": "registry:ui",
  "title": "Dropdown",
  "description": "Dropdown componet with wrapper",
  "registryDependencies": [
    "dropdown-menu"
  ],
  "files": [
    {
      "path": "components/ui/dropdown-menu.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction DropdownMenu(props: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal(props: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger(props: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup(props: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  indicatorAt = \"right\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem> & { indicatorAt?: indicatorAtT }) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n        indicatorAt === \"right\" ? \"pr-8 pl-2\" : \"pr-2 pl-8\",\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className={cn(\"pointer-events-none absolute flex size-3.5 items-center justify-center\", indicatorAt === \"right\" ? \"right-2\" : \"left-2\")}>\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup(props: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  indicatorAt = \"right\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem> & { indicatorAt?: indicatorAtT }) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n        indicatorAt === \"right\" ? \"pr-8 pl-2\" : \"pr-2 pl-8\",\n      )}\n      {...props}\n    >\n      <span className={cn(\"pointer-events-none absolute flex size-3.5 items-center justify-center\", indicatorAt === \"right\" ? \"right-2\" : \"left-2\")}>\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub(props: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/dropdown.tsx",
      "content": "\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { cn, getLabel, getValue, isSeparator, optionTypeChecker, parseAllowedPrimitive } from \"@/lib/utils\"\r\n\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuGroup,\r\n  DropdownMenuLabel,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioGroup,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuSubContent,\r\n} from \"@/components/ui/dropdown-menu\"\r\n\r\ntype dropdownOptionT = allowedPrimitiveT | optionT | (optionT & {\r\n  variant?: \"default\" | \"destructive\"\r\n  shortcut?: string\r\n  disabled?: boolean\r\n})\r\n\r\ntype dropdownGroupT = {\r\n  group: string\r\n  options: dropdownOptionT[]\r\n  className?: string\r\n}\r\n\r\ntype dropdownSubMenuT = {\r\n  submenu: string\r\n  options: (dropdownOptionT | dropdownGroupT)[]\r\n  triggerCls?: string\r\n  contentCls?: string\r\n}\r\n\r\ntype dropdownOptionsT = (dropdownOptionT | dropdownGroupT | dropdownSubMenuT)[]\r\n\r\ntype inputOptionT = allowedPrimitiveT | optionT | (optionT & {\r\n  disabled?: boolean\r\n})\r\n\r\ntype inputGroupT = {\r\n  group: string\r\n  options: inputOptionT[]\r\n  className?: string\r\n}\r\n\r\ntype inputSubMenuT = {\r\n  submenu: string\r\n  options: (inputOptionT | inputGroupT)[]\r\n  triggerCls?: string\r\n  contentCls?: string\r\n}\r\n\r\ntype inputOptionsT = (inputOptionT | inputGroupT | inputSubMenuT)[]\r\n\r\nconst isDropdownGroup = optionTypeChecker<dropdownGroupT>(\"group\")\r\nconst isSubMenu = optionTypeChecker<dropdownSubMenuT>(\"submenu\")\r\nconst isInputGroup = optionTypeChecker<inputGroupT>(\"group\")\r\nconst isInputSubMenu = optionTypeChecker<inputSubMenuT>(\"submenu\")\r\n\r\ntype ItemProps = {\r\n  option: dropdownOptionT\r\n  className?: string\r\n  onSelect?: () => void\r\n}\r\n\r\nfunction Item({ option, className, onSelect }: ItemProps) {\r\n  const value = getValue(option)\r\n  const label = getLabel(option)\r\n\r\n  if (isSeparator(value)) return <DropdownMenuSeparator className={className} />\r\n\r\n  const opt: any = typeof option === \"object\" ? option : {}\r\n  const shortcut = opt?.shortcut\r\n\r\n  return (\r\n    <DropdownMenuItem\r\n      {...opt}\r\n      onSelect={onSelect}\r\n      className={cn(className, opt?.className)}\r\n    >\r\n      {typeof label === \"object\" ? label : `${label}`}\r\n      {shortcut && <DropdownMenuShortcut>{shortcut}</DropdownMenuShortcut>}\r\n    </DropdownMenuItem>\r\n  )\r\n}\r\n\r\ntype SubMenuProps = {\r\n  submenu: dropdownSubMenuT\r\n  itemCls?: string\r\n  groupCls?: string\r\n  onSelect?: (value: allowedPrimitiveT) => void\r\n}\r\n\r\nfunction SubMenu({ submenu, itemCls, groupCls, onSelect }: SubMenuProps) {\r\n  return (\r\n    <DropdownMenuSub>\r\n      <DropdownMenuSubTrigger className={cn(submenu.triggerCls)}>\r\n        {submenu.submenu}\r\n      </DropdownMenuSubTrigger>\r\n\r\n      <DropdownMenuSubContent className={cn(submenu.contentCls)}>\r\n        {submenu.options.map((option, i) => {\r\n          if (isDropdownGroup(option)) {\r\n            return (\r\n              <DropdownMenuGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                <DropdownMenuLabel>{option.group}</DropdownMenuLabel>\r\n                {option.options.map((grOpt, j) => (\r\n                  <Item\r\n                    key={`${option.group}-item-${j}`}\r\n                    option={grOpt}\r\n                    className={itemCls}\r\n                    onSelect={() => onSelect?.(getValue(grOpt))}\r\n                  />\r\n                ))}\r\n              </DropdownMenuGroup>\r\n            )\r\n          }\r\n\r\n          if (isSubMenu(option)) {\r\n            return (\r\n              <SubMenu\r\n                key={`submenu-${i}`}\r\n                submenu={option}\r\n                itemCls={itemCls}\r\n                groupCls={groupCls}\r\n                onSelect={onSelect}\r\n              />\r\n            )\r\n          }\r\n\r\n          return (\r\n            <Item\r\n              key={`item-${i}`}\r\n              option={option}\r\n              className={itemCls}\r\n              onSelect={() => onSelect?.(getValue(option))}\r\n            />\r\n          )\r\n        })}\r\n      </DropdownMenuSubContent>\r\n    </DropdownMenuSub>\r\n  )\r\n}\r\n\r\ntype DropdownWrapperProps = {\r\n  children: React.ReactNode\r\n  options: dropdownOptionsT\r\n  itemCls?: string\r\n  groupCls?: string\r\n  contentProps?: React.ComponentProps<typeof DropdownMenuContent>\r\n  onSelect?: (value: allowedPrimitiveT) => void\r\n} & React.ComponentProps<typeof DropdownMenu>\r\n\r\nfunction DropdownWrapper({\r\n  children,\r\n  options,\r\n  itemCls,\r\n  groupCls,\r\n  contentProps,\r\n  onSelect,\r\n  ...props\r\n}: DropdownWrapperProps) {\r\n  return (\r\n    <DropdownMenu {...props}>\r\n      <DropdownMenuTrigger asChild>\r\n        {children}\r\n      </DropdownMenuTrigger>\r\n\r\n      <DropdownMenuContent {...contentProps}>\r\n        {options.map((option, i) => {\r\n          if (isDropdownGroup(option)) {\r\n            return (\r\n              <DropdownMenuGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                <DropdownMenuLabel>{option.group}</DropdownMenuLabel>\r\n                {option.options.map((grOpt, j) => (\r\n                  <Item\r\n                    key={`${option.group}-item-${j}`}\r\n                    option={grOpt}\r\n                    className={itemCls}\r\n                    onSelect={() => onSelect?.(getValue(grOpt))}\r\n                  />\r\n                ))}\r\n              </DropdownMenuGroup>\r\n            )\r\n          }\r\n\r\n          if (isSubMenu(option)) {\r\n            return (\r\n              <SubMenu\r\n                key={`submenu-${i}`}\r\n                submenu={option}\r\n                itemCls={itemCls}\r\n                groupCls={groupCls}\r\n                onSelect={onSelect}\r\n              />\r\n            )\r\n          }\r\n\r\n          return (\r\n            <Item\r\n              key={`item-${i}`}\r\n              option={option}\r\n              className={itemCls}\r\n              onSelect={() => onSelect?.(getValue(option))}\r\n            />\r\n          )\r\n        })}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  )\r\n}\r\n\r\ntype CheckboxItemProps = {\r\n  option: inputOptionT\r\n  className?: string\r\n\r\n  checked?: boolean\r\n  onCheckedChange?: (checked: boolean) => void\r\n\r\n  indicatorAt?: indicatorAtT\r\n}\r\n\r\nfunction CheckboxItem({ option, className, checked = false, indicatorAt, onCheckedChange = () => { } }: CheckboxItemProps) {\r\n  const label = getLabel(option)\r\n  const value = getValue(option)\r\n  const disabled = (option as any)?.disabled\r\n\r\n  if (isSeparator(value)) return <DropdownMenuSeparator className={className} />\r\n\r\n  return (\r\n    <DropdownMenuCheckboxItem\r\n      checked={checked}\r\n      disabled={disabled}\r\n      className={className}\r\n      indicatorAt={indicatorAt}\r\n      onCheckedChange={onCheckedChange}\r\n    >\r\n      {typeof label === \"object\" ? label : `${label}`}\r\n    </DropdownMenuCheckboxItem>\r\n  )\r\n}\r\n\r\ntype CheckboxSubMenuProps = {\r\n  submenu: inputSubMenuT\r\n  itemCls?: string\r\n  groupCls?: string\r\n\r\n  checked?: allowedPrimitiveT[]\r\n  onCheckedChange?: (value: allowedPrimitiveT, checked: boolean) => void\r\n\r\n  indicatorAt?: indicatorAtT\r\n}\r\n\r\nfunction CheckboxSubMenu({ submenu, itemCls, groupCls, checked = [], indicatorAt, onCheckedChange = () => { } }: CheckboxSubMenuProps) {\r\n  return (\r\n    <DropdownMenuSub>\r\n      <DropdownMenuSubTrigger className={cn(submenu.triggerCls)}>\r\n        {submenu.submenu}\r\n      </DropdownMenuSubTrigger>\r\n\r\n      <DropdownMenuSubContent className={cn(submenu.contentCls)}>\r\n        {submenu.options.map((option, i) => {\r\n          if (isInputGroup(option)) {\r\n            return (\r\n              <DropdownMenuGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                <DropdownMenuLabel>{option.group}</DropdownMenuLabel>\r\n                {option.options.map((grOpt, j) => {\r\n                  const v = getValue(grOpt)\r\n                  return (\r\n                    <CheckboxItem\r\n                      key={`${v}-${j}`}\r\n                      option={grOpt}\r\n                      className={itemCls}\r\n                      checked={checked.includes(v)}\r\n                      indicatorAt={indicatorAt}\r\n                      onCheckedChange={(checked) => onCheckedChange?.(v, checked)}\r\n                    />\r\n                  )\r\n                })}\r\n              </DropdownMenuGroup>\r\n            )\r\n          }\r\n\r\n          if (isInputSubMenu(option)) {\r\n            return (\r\n              <CheckboxSubMenu\r\n                key={`submenu-${i}`}\r\n                submenu={option}\r\n                itemCls={itemCls}\r\n                groupCls={groupCls}\r\n                checked={checked}\r\n                indicatorAt={indicatorAt}\r\n                onCheckedChange={onCheckedChange}\r\n              />\r\n            )\r\n          }\r\n\r\n          const v = getValue(option)\r\n          return (\r\n            <CheckboxItem\r\n              key={`${v}-${i}`}\r\n              option={option}\r\n              className={itemCls}\r\n              checked={checked.includes(v)}\r\n              indicatorAt={indicatorAt}\r\n              onCheckedChange={(checked) => onCheckedChange?.(v, checked)}\r\n            />\r\n          )\r\n        })}\r\n      </DropdownMenuSubContent>\r\n    </DropdownMenuSub>\r\n  )\r\n}\r\n\r\ntype DropdownCheckboxWrapperProps = {\r\n  children: React.ReactNode\r\n  options: inputOptionsT\r\n\r\n  label?: string\r\n  itemCls?: string\r\n  groupCls?: string\r\n  contentProps?: React.ComponentProps<typeof DropdownMenuContent>\r\n\r\n  checked?: allowedPrimitiveT[]\r\n  onCheckedChange?: (value: allowedPrimitiveT, checked: boolean) => void\r\n\r\n  indicatorAt?: indicatorAtT\r\n} & React.ComponentProps<typeof DropdownMenu>\r\n\r\nfunction DropdownCheckboxWrapper({\r\n  children,\r\n  options,\r\n\r\n  label,\r\n  contentProps,\r\n  itemCls,\r\n  groupCls,\r\n\r\n  checked: o_checked,\r\n  onCheckedChange: o_onCheckedChange,\r\n\r\n  indicatorAt,\r\n  ...props\r\n}: DropdownCheckboxWrapperProps) {\r\n  const [i_checked, setIChecked] = useState<allowedPrimitiveT[]>([])\r\n\r\n  function i_Checked(v: allowedPrimitiveT, c: boolean) {\r\n    setIChecked(prev => !c ? prev.filter(p => p !== v) : [...prev, v])\r\n  }\r\n\r\n  const checked = o_checked ?? i_checked\r\n  const onCheckedChange = o_onCheckedChange ?? i_Checked\r\n\r\n  return (\r\n    <DropdownMenu {...props}>\r\n      <DropdownMenuTrigger asChild>\r\n        {children}\r\n      </DropdownMenuTrigger>\r\n\r\n      <DropdownMenuContent {...contentProps}>\r\n        {label && (\r\n          <>\r\n            <DropdownMenuLabel>{label}</DropdownMenuLabel>\r\n            <DropdownMenuSeparator />\r\n          </>\r\n        )}\r\n        {options.map((option, i) => {\r\n          if (isInputGroup(option)) {\r\n            return (\r\n              <DropdownMenuGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                <DropdownMenuLabel>{option.group}</DropdownMenuLabel>\r\n                {option.options.map((grOpt, j) => {\r\n                  const v = getValue(grOpt)\r\n                  return (\r\n                    <CheckboxItem\r\n                      key={`${v}-${j}`}\r\n                      option={grOpt}\r\n                      className={itemCls}\r\n                      checked={checked.includes(v)}\r\n                      indicatorAt={indicatorAt}\r\n                      onCheckedChange={(checked) => onCheckedChange?.(v, checked)}\r\n                    />\r\n                  )\r\n                })}\r\n              </DropdownMenuGroup>\r\n            )\r\n          }\r\n\r\n          if (isInputSubMenu(option)) {\r\n            return (\r\n              <CheckboxSubMenu\r\n                key={`submenu-${i}`}\r\n                submenu={option}\r\n                itemCls={itemCls}\r\n                groupCls={groupCls}\r\n                checked={checked}\r\n                indicatorAt={indicatorAt}\r\n                onCheckedChange={onCheckedChange}\r\n              />\r\n            )\r\n          }\r\n\r\n          const v = getValue(option)\r\n          return (\r\n            <CheckboxItem\r\n              key={`${v}-${i}`}\r\n              option={option}\r\n              className={itemCls}\r\n              checked={checked.includes(v)}\r\n              indicatorAt={indicatorAt}\r\n              onCheckedChange={(checked) => onCheckedChange?.(v, checked)}\r\n            />\r\n          )\r\n        })}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  )\r\n}\r\n\r\ntype RadioItemProps = {\r\n  option: inputOptionT\r\n  className?: string\r\n  indicatorAt?: indicatorAtT\r\n}\r\n\r\nfunction RadioItem({ option, className, indicatorAt }: RadioItemProps) {\r\n  const value = getValue(option)\r\n  const label = getLabel(option)\r\n  const disabled = (option as any)?.disabled\r\n\r\n  if (isSeparator(value)) return <DropdownMenuSeparator className={className} />\r\n\r\n  return (\r\n    <DropdownMenuRadioItem\r\n      value={`${value}`}\r\n      disabled={disabled}\r\n      className={className}\r\n      indicatorAt={indicatorAt}\r\n    >\r\n      {typeof label === \"object\" ? label : `${label}`}\r\n    </DropdownMenuRadioItem>\r\n  )\r\n}\r\n\r\ntype RadioSubMenuProps = {\r\n  submenu: inputSubMenuT\r\n  itemCls?: string\r\n  groupCls?: string\r\n\r\n  value?: allowedPrimitiveT\r\n  onValueChange?: (value: allowedPrimitiveT) => void\r\n\r\n  indicatorAt?: indicatorAtT\r\n}\r\n\r\nfunction RadioSubMenu({ submenu, itemCls, groupCls, value = \"\", indicatorAt, onValueChange = () => { } }: RadioSubMenuProps) {\r\n  return (\r\n    <DropdownMenuSub>\r\n      <DropdownMenuSubTrigger className={cn(submenu.triggerCls)}>\r\n        {submenu.submenu}\r\n      </DropdownMenuSubTrigger>\r\n\r\n      <DropdownMenuSubContent className={cn(submenu.contentCls)}>\r\n        <DropdownMenuRadioGroup value={`${value}`} onValueChange={onValueChange}>\r\n          {submenu.options.map((option, i) => {\r\n            if (isInputGroup(option)) {\r\n              return (\r\n                <DropdownMenuGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                  <DropdownMenuLabel>{option.group}</DropdownMenuLabel>\r\n                  {option.options.map((grOpt, j) => (\r\n                    <RadioItem\r\n                      key={`${getValue(grOpt)}-${j}`}\r\n                      option={grOpt}\r\n                      className={itemCls}\r\n                      indicatorAt={indicatorAt}\r\n                    />\r\n                  ))}\r\n                </DropdownMenuGroup>\r\n              )\r\n            }\r\n\r\n            if (isInputSubMenu(option)) {\r\n              return (\r\n                <RadioSubMenu\r\n                  key={`submenu-${i}`}\r\n                  submenu={option}\r\n                  itemCls={itemCls}\r\n                  groupCls={groupCls}\r\n                  value={value}\r\n                  onValueChange={onValueChange}\r\n                  indicatorAt={indicatorAt}\r\n                />\r\n              )\r\n            }\r\n\r\n            return (\r\n              <RadioItem\r\n                key={`${getValue(option)}-${i}`}\r\n                option={option}\r\n                className={itemCls}\r\n                indicatorAt={indicatorAt}\r\n              />\r\n            )\r\n          })}\r\n        </DropdownMenuRadioGroup>\r\n      </DropdownMenuSubContent>\r\n    </DropdownMenuSub>\r\n  )\r\n}\r\n\r\ntype DropdownRadioWrapperProps = {\r\n  children: React.ReactNode\r\n  options: inputOptionsT\r\n\r\n  label?: string\r\n  itemCls?: string\r\n  groupCls?: string\r\n  contentProps?: React.ComponentProps<typeof DropdownMenuContent>\r\n\r\n  value?: allowedPrimitiveT\r\n  onValueChange?: (value: allowedPrimitiveT) => void\r\n\r\n  indicatorAt?: indicatorAtT\r\n} & React.ComponentProps<typeof DropdownMenu>\r\n\r\nfunction DropdownRadioWrapper({\r\n  children,\r\n  options,\r\n\r\n  label,\r\n  itemCls,\r\n  groupCls,\r\n  contentProps,\r\n\r\n  value: o_value,\r\n  onValueChange: o_onValueChange,\r\n\r\n  indicatorAt,\r\n  ...props\r\n}: DropdownRadioWrapperProps) {\r\n  const [i_value, setIValue] = useState<allowedPrimitiveT>(\"\")\r\n\r\n  const value = o_value ?? i_value\r\n  const onValueChange = o_onValueChange ?? setIValue\r\n\r\n  return (\r\n    <DropdownMenu {...props}>\r\n      <DropdownMenuTrigger asChild>\r\n        {children}\r\n      </DropdownMenuTrigger>\r\n\r\n      <DropdownMenuContent {...contentProps}>\r\n        {label && (\r\n          <>\r\n            <DropdownMenuLabel>{label}</DropdownMenuLabel>\r\n            <DropdownMenuSeparator />\r\n          </>\r\n        )}\r\n        <DropdownMenuRadioGroup value={`${value}`} onValueChange={v => onValueChange(parseAllowedPrimitive(v))}>\r\n          {options.map((option, i) => {\r\n            if (isInputGroup(option)) {\r\n              return (\r\n                <DropdownMenuGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                  <DropdownMenuLabel>{option.group}</DropdownMenuLabel>\r\n                  {option.options.map((grOpt, j) => (\r\n                    <RadioItem\r\n                      key={`${getValue(grOpt)}-${j}`}\r\n                      option={grOpt}\r\n                      className={itemCls}\r\n                      indicatorAt={indicatorAt}\r\n                    />\r\n                  ))}\r\n                </DropdownMenuGroup>\r\n              )\r\n            }\r\n\r\n            if (isInputSubMenu(option)) {\r\n              return (\r\n                <RadioSubMenu\r\n                  key={`submenu-${i}`}\r\n                  submenu={option}\r\n                  itemCls={itemCls}\r\n                  groupCls={groupCls}\r\n                  value={value}\r\n                  indicatorAt={indicatorAt}\r\n                  onValueChange={v => onValueChange(parseAllowedPrimitive(v))}\r\n                />\r\n              )\r\n            }\r\n\r\n            return (\r\n              <RadioItem\r\n                key={`${getValue(option)}-${i}`}\r\n                option={option}\r\n                indicatorAt={indicatorAt}\r\n                className={itemCls}\r\n              />\r\n            )\r\n          })}\r\n        </DropdownMenuRadioGroup>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  )\r\n}\r\n\r\nexport {\r\n  DropdownWrapper,\r\n  DropdownCheckboxWrapper,\r\n  DropdownRadioWrapper,\r\n  type dropdownOptionT,\r\n  type dropdownGroupT,\r\n  type dropdownSubMenuT,\r\n  type dropdownOptionsT,\r\n  type inputOptionT,\r\n  type inputGroupT,\r\n  type inputSubMenuT,\r\n  type inputOptionsT,\r\n}",
      "type": "registry:ui"
    }
  ]
}