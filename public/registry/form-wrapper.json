{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "form-wrapper",
  "type": "registry:ui",
  "title": "Form",
  "description": "Form componet with wrapper",
  "registryDependencies": [
    "form",
    "combobox",
    "select",
    "popover",
    "radio-group",
    "calendar",
    "textarea",
    "button",
    "input"
  ],
  "files": [
    {
      "path": "components/ui/combobox.tsx",
      "content": "\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Check, ChevronsUpDown, Loader2, Plus } from \"lucide-react\"\r\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\r\n\r\nimport { cn, getLabel, getValue, isAllowedPrimitive, isGroup, isOption, isSeparator } from \"@/lib/utils\"\r\n\r\nimport {\r\n  Command,\r\n  CommandEmpty,\r\n  CommandGroup,\r\n  CommandInput,\r\n  CommandItem,\r\n  CommandList,\r\n  CommandLoading,\r\n  CommandSeparator,\r\n} from \"@/components/ui/command\"\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\n\r\nconst extractText = (node: any): string => {\r\n  if (node === null || node === undefined) return \"\"\r\n  if (isAllowedPrimitive(node)) return String(node)\r\n  if (Array.isArray(node)) return node.map(extractText).join(\" \")\r\n  if (node.props?.children) return extractText(node.props.children)\r\n  return \"\"\r\n}\r\n\r\nconst findOptionByValue = (options: optionsT, value: allowedPrimitiveT) => {\r\n  for (const item of options) {\r\n    if (isGroup(item)) {\r\n      const found = item.options.find((opt) => getValue(opt) === value)\r\n      if (found) return found\r\n    } else if (!isSeparator(item) && getValue(item) === value) {\r\n      return item\r\n    }\r\n  }\r\n  return \"\"\r\n}\r\n\r\nconst filteredOptions = (options: optionsT, query: string): optionsT => {\r\n  const q = query.toLowerCase()\r\n  const result: optionsT = []\r\n\r\n  for (const item of options) {\r\n    if (isGroup(item)) {\r\n      const filtered = item.options.filter(opt =>\r\n        extractText(getLabel(opt)).toLowerCase().includes(q)\r\n      )\r\n      if (filtered.length) {\r\n        result.push({ ...item, options: filtered })\r\n      }\r\n      continue\r\n    }\r\n\r\n    if (isSeparator(item)) {\r\n      result.push(item)\r\n      continue\r\n    }\r\n\r\n    if (extractText(getLabel(item)).toLowerCase().includes(q)) {\r\n      result.push(item)\r\n    }\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n\r\ntype ItemProps = {\r\n  option: allowedPrimitiveT | optionT\r\n  selected: boolean\r\n  className?: string\r\n  indicatorAt?: indicatorAtT\r\n  onSelect: (value: allowedPrimitiveT) => void\r\n}\r\n\r\nfunction Item({ option, selected, indicatorAt = \"right\", onSelect, className }: ItemProps) {\r\n  const value = getValue(option)\r\n  const label = getLabel(option)\r\n  const optCls = isOption(option) ? option.className : undefined\r\n\r\n  if (isSeparator(value)) return <CommandSeparator className={cn(\"my-0.5\", className, \"mx-0\")} />\r\n\r\n  return (\r\n    <CommandItem\r\n      value={`${value}`}\r\n      className={cn(indicatorAt === \"right\" ? \"pr-8 pl-2\" : \"pr-2 pl-8\", className, optCls)}\r\n      onSelect={() => onSelect(value)}\r\n    >\r\n      {typeof label === \"object\" ? label : `${label}`}\r\n\r\n      <Check\r\n        className={cn(\r\n          \"absolute size-4\",\r\n          selected ? \"opacity-100\" : \"opacity-0\",\r\n          indicatorAt === \"right\" ? \"right-2\" : \"left-2\",\r\n        )}\r\n      />\r\n    </CommandItem>\r\n  )\r\n}\r\n\r\ntype base = {\r\n  id?: string\r\n  options: optionsT\r\n  isLoading?: boolean\r\n  placeholder?: string\r\n  emptyMessage?: string\r\n\r\n  indicatorAt?: indicatorAtT\r\n  triggerCls?: string\r\n  contentCls?: string\r\n  groupCls?: string\r\n  itemCls?: string\r\n  matchTriggerWidth?: boolean\r\n\r\n  open?: boolean\r\n  onOpenChange?: (v: boolean) => void\r\n  query?: string\r\n  onQueryChange?: (v: string) => void\r\n\r\n  popoverContentProps?: Omit<React.ComponentProps<typeof PopoverPrimitive.Content>, \"className\">\r\n}\r\n\r\ntype comboboxProps = base & {\r\n  value?: allowedPrimitiveT\r\n  canCreateNew?: boolean\r\n  onValueChange?: (value: allowedPrimitiveT) => void\r\n}\r\n\r\nfunction Combobox({\r\n  id,\r\n  options = [],\r\n  isLoading,\r\n  placeholder,\r\n  emptyMessage,\r\n  canCreateNew,\r\n\r\n  matchTriggerWidth = true,\r\n  indicatorAt,\r\n  triggerCls,\r\n  contentCls,\r\n  groupCls,\r\n  itemCls,\r\n\r\n  value: o_value,\r\n  onValueChange: o_onValueChange,\r\n\r\n  query: o_query,\r\n  onQueryChange: o_onQueryChange,\r\n\r\n  open: o_open,\r\n  onOpenChange: o_onOpenChange,\r\n\r\n  popoverContentProps,\r\n}: comboboxProps) {\r\n  const [i_value, setIValue] = useState(\"\")\r\n  const [i_query, setIQuery] = useState(\"\")\r\n  const [i_open, setIOpen] = useState(false)\r\n\r\n  const value = o_value ?? i_value\r\n  const query = o_query ?? i_query\r\n  const open = o_open ?? i_open\r\n\r\n  const onValueChange = o_onValueChange ?? setIValue\r\n  const onQueryChange = o_onQueryChange ?? setIQuery\r\n  const onOpenChange = o_onOpenChange ?? setIOpen\r\n\r\n  const selectedOption = findOptionByValue(options, value)\r\n  const filtered = filteredOptions(options, query)\r\n  const label = getLabel(selectedOption)\r\n\r\n  const showCreate =\r\n    canCreateNew &&\r\n    query &&\r\n    !options.some((o) =>\r\n      isGroup(o)\r\n        ? o.options.some((x) => extractText(getLabel(x)) === query)\r\n        : extractText(getLabel(o)) === query\r\n    )\r\n\r\n  function onSelect(v: allowedPrimitiveT) {\r\n    onValueChange(v as string)\r\n    onOpenChange(false)\r\n  }\r\n\r\n  return (\r\n    <Popover open={open} onOpenChange={onOpenChange}>\r\n      <PopoverTrigger asChild>\r\n        <Button\r\n          id={id}\r\n          role=\"combobox\"\r\n          variant=\"outline\"\r\n          className={cn(\"font-normal\", triggerCls, {\r\n            \"text-muted-foreground\": !value && value !== false,\r\n          })}\r\n        >\r\n          {isLoading ? (\r\n            <>\r\n              <Loader2 className=\"size-4 animate-spin\" />\r\n              Loading...\r\n            </>\r\n          ) :\r\n            <span className=\"flex items-center gap-2 truncate\">\r\n              {\r\n                (selectedOption || selectedOption === false)\r\n                  ? typeof label === \"object\" ? label : `${label}`\r\n                  : placeholder\r\n              }\r\n            </span>\r\n          }\r\n\r\n          <ChevronsUpDown className=\"ml-auto size-4 opacity-50\" />\r\n        </Button>\r\n      </PopoverTrigger>\r\n\r\n      <PopoverContent\r\n        {...popoverContentProps}\r\n        className={cn(\"p-0\", matchTriggerWidth && \"w-[var(--radix-popover-trigger-width)]\", contentCls)}\r\n      >\r\n        <Command shouldFilter={false}>\r\n          {\r\n            !isLoading &&\r\n            <CommandInput\r\n              placeholder=\"Search...\"\r\n              value={query}\r\n              onValueChange={onQueryChange}\r\n            />\r\n          }\r\n\r\n          <CommandList className=\"py-1\">\r\n            {\r\n              isLoading &&\r\n              <CommandLoading>\r\n                <span className=\"flex items-center justify-center gap-2\">\r\n                  <Loader2 className=\"animate-spin size-4\" /> Loading...\r\n                </span>\r\n              </CommandLoading>\r\n            }\r\n\r\n            {\r\n              !isLoading &&\r\n              <CommandEmpty>{emptyMessage || \"No options found\"}</CommandEmpty>\r\n            }\r\n\r\n            {!isLoading && filtered.map((item, i) => {\r\n              if (isGroup(item)) {\r\n                return (\r\n                  <CommandGroup\r\n                    key={item.group}\r\n                    heading={item.group}\r\n                    className={cn(\"[&_[cmdk-group-heading]]:pb-0.5\", groupCls, item.className)}\r\n                  >\r\n                    {item.options.map((opt, j) => (\r\n                      <Item\r\n                        key={`g-${i}-${j}`}\r\n                        option={opt}\r\n                        selected={getValue(opt) === value}\r\n                        onSelect={onSelect}\r\n                        className={itemCls}\r\n                        indicatorAt={indicatorAt}\r\n                      />\r\n                    ))}\r\n                  </CommandGroup>\r\n                )\r\n              }\r\n\r\n              return (\r\n                <Item\r\n                  key={`i-${i}`}\r\n                  option={item}\r\n                  selected={getValue(item) === value}\r\n                  onSelect={onSelect}\r\n                  indicatorAt={indicatorAt}\r\n                  className={cn(\"mx-1\", itemCls)}\r\n                />\r\n              )\r\n            })}\r\n\r\n            {showCreate && (\r\n              <CommandGroup>\r\n                <CommandItem\r\n                  value={`__create-${query}`}\r\n                  onSelect={() => {\r\n                    onValueChange(query)\r\n                    onQueryChange(\"\")\r\n                    onOpenChange(false)\r\n                  }}\r\n                >\r\n                  <Plus className=\"mr-2 h-4 w-4\" /> Create: {query}\r\n                </CommandItem>\r\n              </CommandGroup>\r\n            )}\r\n          </CommandList>\r\n        </Command>\r\n      </PopoverContent>\r\n    </Popover>\r\n  )\r\n}\r\n\r\ntype btnLableProps = {\r\n  value: allowedPrimitiveT[]\r\n  options: optionsT\r\n  isLoading?: boolean\r\n  placeholder?: string\r\n  maxVisibleCount?: number\r\n}\r\nfunction ButtonLabel({\r\n  value,\r\n  options,\r\n  isLoading,\r\n  placeholder,\r\n  maxVisibleCount = 2,\r\n}: btnLableProps) {\r\n  const labelOf = (val: allowedPrimitiveT) => {\r\n    const found = findOptionByValue(options, val)\r\n    if (!found) return `${val}`\r\n    const label = getLabel(found)\r\n    return typeof label === \"object\" ? label : `${label}`\r\n  }\r\n\r\n  if (isLoading)\r\n    return (\r\n      <>\r\n        <Loader2 className=\"size-4 animate-spin\" />\r\n        Loading...\r\n      </>\r\n    )\r\n\r\n  if (value.length === 0) {\r\n    return placeholder\r\n  }\r\n\r\n  if (value.length <= maxVisibleCount) {\r\n    return (\r\n      <>\r\n        {value.map((v) => (\r\n          <Badge key={String(v)} variant=\"secondary\" className=\"rounded-sm px-1 font-normal\">\r\n            {labelOf(v)}\r\n          </Badge>\r\n        ))}\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Badge variant=\"secondary\" className=\"rounded-sm px-1 font-normal\">\r\n      {value.length} selected\r\n    </Badge>\r\n  )\r\n}\r\n\r\ntype multiSelectComboboxProps = base & {\r\n  value?: allowedPrimitiveT[]\r\n  maxVisibleCount?: number\r\n  label?: React.ReactNode\r\n  onValueChange?: (v: allowedPrimitiveT[]) => void\r\n}\r\n\r\nfunction MultiSelectCombobox({\r\n  id,\r\n  options = [],\r\n  isLoading,\r\n  placeholder,\r\n  emptyMessage,\r\n\r\n  matchTriggerWidth = true,\r\n  maxVisibleCount,\r\n  indicatorAt,\r\n  triggerCls,\r\n  contentCls,\r\n  groupCls,\r\n  itemCls,\r\n  label,\r\n\r\n  value: o_value,\r\n  onValueChange: o_onValueChange,\r\n\r\n  query: o_query,\r\n  onQueryChange: o_onQueryChange,\r\n\r\n  open: o_open,\r\n  onOpenChange: o_onOpenChange,\r\n  popoverContentProps,\r\n}: multiSelectComboboxProps) {\r\n  const [i_value, setIValue] = useState<allowedPrimitiveT[]>([])\r\n  const [i_query, setIQuery] = useState(\"\")\r\n  const [i_open, setIOpen] = useState(false)\r\n\r\n  const value = o_value ?? i_value\r\n  const query = o_query ?? i_query\r\n  const open = o_open ?? i_open\r\n\r\n  const onValueChange = o_onValueChange ?? setIValue\r\n  const onQueryChange = o_onQueryChange ?? setIQuery\r\n  const onOpenChange = o_onOpenChange ?? setIOpen\r\n\r\n  const filtered = filteredOptions(options, query)\r\n\r\n  const onSelect = (v: allowedPrimitiveT) => {\r\n    onValueChange(value.includes(v) ? value.filter((x) => x !== v) : [...value, v])\r\n  }\r\n\r\n  return (\r\n    <Popover open={open} onOpenChange={onOpenChange}>\r\n      <PopoverTrigger asChild>\r\n        <Button\r\n          id={id}\r\n          role=\"combobox\"\r\n          variant=\"outline\"\r\n          aria-expanded={open}\r\n          className={cn(\"font-normal\", triggerCls, {\r\n            \"text-muted-foreground\": value.length === 0,\r\n          })}\r\n        >\r\n          {label}\r\n\r\n          <ButtonLabel\r\n            value={value}\r\n            options={options}\r\n            isLoading={isLoading}\r\n            placeholder={placeholder}\r\n            maxVisibleCount={maxVisibleCount}\r\n          />\r\n\r\n          <ChevronsUpDown className=\"ml-auto size-4 opacity-50\" />\r\n        </Button>\r\n      </PopoverTrigger>\r\n\r\n      <PopoverContent\r\n        {...popoverContentProps}\r\n        className={cn(\"p-0\", matchTriggerWidth && \"w-[var(--radix-popover-trigger-width)]\", contentCls)}\r\n      >\r\n        <Command shouldFilter={false}>\r\n          {\r\n            !isLoading &&\r\n            <CommandInput\r\n              placeholder=\"Search...\"\r\n              value={query}\r\n              onValueChange={onQueryChange}\r\n            />\r\n          }\r\n\r\n          <CommandList className=\"py-1\">\r\n            {\r\n              isLoading &&\r\n              <CommandLoading>\r\n                <span className=\"flex items-center justify-center gap-2\">\r\n                  <Loader2 className=\"animate-spin size-4\" /> Loading...\r\n                </span>\r\n              </CommandLoading>\r\n            }\r\n\r\n            {\r\n              !isLoading &&\r\n              <CommandEmpty>{emptyMessage || \"No options found\"}</CommandEmpty>\r\n            }\r\n\r\n            {!isLoading && filtered.map((item, i) => {\r\n              if (isGroup(item)) {\r\n                return (\r\n                  <CommandGroup\r\n                    key={item.group}\r\n                    heading={item.group}\r\n                    className={cn(\"[&_[cmdk-group-heading]]:pb-0.5\", groupCls, item.className)}\r\n                  >\r\n                    {item.options.map((opt, j) => (\r\n                      <Item\r\n                        key={`g-${i}-${j}`}\r\n                        option={opt}\r\n                        selected={value.includes(getValue(opt))}\r\n                        onSelect={onSelect}\r\n                        indicatorAt={indicatorAt}\r\n                        className={itemCls}\r\n                      />\r\n                    ))}\r\n                  </CommandGroup>\r\n                )\r\n              }\r\n\r\n              return (\r\n                <Item\r\n                  key={`i-${i}`}\r\n                  option={item}\r\n                  selected={value.includes(getValue(item))}\r\n                  onSelect={onSelect}\r\n                  indicatorAt={indicatorAt}\r\n                  className={cn(\"mx-1 mb-1\", itemCls)}\r\n                />\r\n              )\r\n            })}\r\n\r\n            {value.length > 0 && (\r\n              <>\r\n                <CommandSeparator />\r\n                <CommandGroup>\r\n                  <CommandItem onSelect={() => onValueChange([])} value=\"__clear__\" className=\"justify-center\">\r\n                    Clear selection(s)\r\n                  </CommandItem>\r\n                </CommandGroup>\r\n              </>\r\n            )}\r\n          </CommandList>\r\n        </Command>\r\n      </PopoverContent>\r\n    </Popover>\r\n  )\r\n}\r\n\r\nexport {\r\n  Combobox,\r\n  MultiSelectCombobox,\r\n  type comboboxProps,\r\n  type multiSelectComboboxProps,\r\n}",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/select.tsx",
      "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\r\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\r\n\r\nimport { cn, getLabel, getValue, isGroup, isOption, isSeparator } from \"@/lib/utils\"\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = \"default\",\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: \"sm\" | \"default\"\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  )\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = \"popper\",\r\n  align = \"center\",\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\r\n          position === \"popper\" &&\r\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n          className\r\n        )}\r\n        position={position}\r\n        align={align}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            \"p-1\",\r\n            position === \"popper\" &&\r\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  indicatorAt = \"right\",\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item> & { indicatorAt?: indicatorAtT }) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className,\r\n        indicatorAt === \"right\" ? \"pr-8 pl-2\" : \"pr-2 pl-8\",\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className={cn(\"absolute flex size-3.5 items-center justify-center\", indicatorAt === \"right\" ? \"right-2\" : \"left-2\")}>\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  )\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        \"flex cursor-default items-center justify-center py-1\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  )\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        \"flex cursor-default items-center justify-center py-1\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  )\r\n}\r\n\r\ntype itemProps = {\r\n  option: allowedPrimitiveT | optionT\r\n  className?: string\r\n  indicatorAt?: indicatorAtT\r\n}\r\n\r\nfunction Item({ option, className, indicatorAt }: itemProps) {\r\n  const value = getValue(option)\r\n  const label = getLabel(option)\r\n  const optCls = isOption(option) ? option.className : undefined\r\n\r\n  if (isSeparator(value)) return <SelectSeparator className={className} />\r\n\r\n  return (\r\n    <SelectItem\r\n      value={`${value}`}\r\n      className={cn(className, optCls)}\r\n      indicatorAt={indicatorAt}\r\n    >\r\n      {typeof label === \"object\" ? label : `${label}`}\r\n    </SelectItem>\r\n  )\r\n}\r\n\r\ntype selectProps = {\r\n  id?: string\r\n  options: optionsT\r\n  placeholder?: string\r\n  indicatorAt?: indicatorAtT\r\n  triggerCls?: string\r\n  contentCls?: string\r\n  groupCls?: string\r\n  itemCls?: string\r\n} & React.ComponentProps<typeof SelectPrimitive.Root>\r\nfunction SelectWrapper({\r\n  id, options, placeholder, indicatorAt,\r\n  triggerCls, contentCls, groupCls, itemCls,\r\n  ...props\r\n}: selectProps) {\r\n  return (\r\n    <Select {...props}>\r\n      <SelectTrigger id={id} className={triggerCls}>\r\n        <SelectValue placeholder={placeholder} />\r\n      </SelectTrigger>\r\n\r\n      <SelectContent className={contentCls}>\r\n        {\r\n          options.map((option, i) => {\r\n            if (isGroup(option)) {\r\n              return (\r\n                <SelectGroup key={option.group} className={cn(groupCls, option.className)}>\r\n                  <SelectLabel className=\"pb-0.5\">{option.group}</SelectLabel>\r\n\r\n                  {option.options.map((grOpts, j) => (\r\n                    <Item\r\n                      key={`${option.group}-item-${j}`}\r\n                      option={grOpts}\r\n                      className={cn(\"pl-4\", itemCls)}\r\n                      indicatorAt={indicatorAt}\r\n                    />\r\n                  ))}\r\n                </SelectGroup>\r\n              )\r\n            }\r\n\r\n            return (\r\n              <Item\r\n                key={`i-${i}`}\r\n                option={option}\r\n                className={itemCls}\r\n                indicatorAt={indicatorAt}\r\n              />\r\n            )\r\n          })\r\n        }\r\n      </SelectContent>\r\n    </Select>\r\n  )\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n  SelectWrapper,\r\n  type selectProps,\r\n}\r\n",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/form.tsx",
      "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport {\r\n  Controller,\r\n  FormProvider,\r\n  useFormContext,\r\n  useFormState,\r\n  type ControllerProps,\r\n  type FieldPath,\r\n  type FieldValues,\r\n} from \"react-hook-form\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Label } from \"@/components/ui/label\"\r\n\r\nconst Form = FormProvider\r\n\r\ntype FormFieldContextValue<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\r\n> = {\r\n  name: TName\r\n}\r\n\r\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\r\n  {} as FormFieldContextValue\r\n)\r\n\r\nconst FormField = <\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\r\n>({\r\n  ...props\r\n}: ControllerProps<TFieldValues, TName>) => {\r\n  return (\r\n    <FormFieldContext.Provider value={{ name: props.name }}>\r\n      <Controller {...props} />\r\n    </FormFieldContext.Provider>\r\n  )\r\n}\r\n\r\nconst useFormField = () => {\r\n  const fieldContext = React.useContext(FormFieldContext)\r\n  const itemContext = React.useContext(FormItemContext)\r\n  const { getFieldState } = useFormContext()\r\n  const formState = useFormState({ name: fieldContext.name })\r\n  const fieldState = getFieldState(fieldContext.name, formState)\r\n\r\n  if (!fieldContext) {\r\n    throw new Error(\"useFormField should be used within <FormField>\")\r\n  }\r\n\r\n  const { id } = itemContext\r\n\r\n  return {\r\n    id,\r\n    name: fieldContext.name,\r\n    formItemId: `${id}-form-item`,\r\n    formDescriptionId: `${id}-form-item-description`,\r\n    formMessageId: `${id}-form-item-message`,\r\n    ...fieldState,\r\n  }\r\n}\r\n\r\ntype FormItemContextValue = {\r\n  id: string\r\n}\r\n\r\nconst FormItemContext = React.createContext<FormItemContextValue>(\r\n  {} as FormItemContextValue\r\n)\r\n\r\nfunction FormItem({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  const id = React.useId()\r\n\r\n  return (\r\n    <FormItemContext.Provider value={{ id }}>\r\n      <div\r\n        data-slot=\"form-item\"\r\n        className={cn(\"grid gap-2\", className)}\r\n        {...props}\r\n      />\r\n    </FormItemContext.Provider>\r\n  )\r\n}\r\n\r\nfunction FormLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  const { error, formItemId } = useFormField()\r\n\r\n  return (\r\n    <Label\r\n      data-slot=\"form-label\"\r\n      data-error={!!error}\r\n      className={cn(\"data-[error=true]:text-destructive\", className)}\r\n      htmlFor={formItemId}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\r\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\r\n\r\n  return (\r\n    <Slot\r\n      data-slot=\"form-control\"\r\n      id={formItemId}\r\n      aria-describedby={\r\n        !error\r\n          ? `${formDescriptionId}`\r\n          : `${formDescriptionId} ${formMessageId}`\r\n      }\r\n      aria-invalid={!!error}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction FormDescription({ className, ...props }: React.ComponentProps<\"p\">) {\r\n  const { formDescriptionId } = useFormField()\r\n\r\n  return (\r\n    <p\r\n      data-slot=\"form-description\"\r\n      id={formDescriptionId}\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction FormMessage({ className, ...props }: React.ComponentProps<\"p\">) {\r\n  const { error, formMessageId } = useFormField()\r\n  const body = error ? String(error?.message ?? \"\") : props.children\r\n\r\n  if (!body) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <p\r\n      data-slot=\"form-message\"\r\n      id={formMessageId}\r\n      className={cn(\"text-destructive text-sm\", className)}\r\n      {...props}\r\n    >\r\n      {body}\r\n    </p>\r\n  )\r\n}\r\n\r\nexport {\r\n  useFormField,\r\n  Form,\r\n  FormItem,\r\n  FormLabel,\r\n  FormControl,\r\n  FormDescription,\r\n  FormMessage,\r\n  FormField,\r\n}\r\n",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/form-wrapper.tsx",
      "content": "\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport { Control, FieldValues, Path } from \"react-hook-form\";\r\nimport { CalendarIcon } from \"lucide-react\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport { cn, getLabel, getValue, parseAllowedPrimitive } from \"@/lib/utils\";\r\n\r\nimport { type comboboxProps, type multiSelectComboboxProps, Combobox, MultiSelectCombobox } from \"./combobox\";\r\nimport { type selectProps, SelectWrapper as SelectPrimitiveWrapper } from \"./select\";\r\nimport { FormControl, FormField, FormItem, FormLabel, FormMessage } from \"./form\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"./popover\";\r\nimport { RadioGroup, RadioGroupItem } from \"./radio-group\";\r\nimport { Calendar } from \"./calendar\";\r\nimport { Textarea } from \"./textarea\";\r\nimport { Button } from \"./button\";\r\nimport { Input } from \"./input\";\r\n\r\ntype BaseWrapperProps<T extends FieldValues> = {\r\n  name: Path<T>\r\n  label?: string\r\n  control: Control<T>\r\n  className?: string\r\n}\r\n\r\ntype InputWrapperProps<T extends FieldValues> = BaseWrapperProps<T> & React.InputHTMLAttributes<HTMLInputElement>\r\nexport function InputWrapper<T extends FieldValues>({ name, label, control, className, type = \"text\", placeholder, ...props }: InputWrapperProps<T>) {\r\n  return (\r\n    <FormField\r\n      name={name}\r\n      control={control}\r\n      render={({ field }) => (\r\n        <FormItem className={className}>\r\n          {label && <FormLabel>{label}</FormLabel>}\r\n\r\n          <FormControl>\r\n            <Input type={type} placeholder={placeholder || `Enter ${label}`} {...field} {...props} />\r\n          </FormControl>\r\n\r\n          <FormMessage />\r\n        </FormItem>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\ntype TextareaWrapperProps<T extends FieldValues> = BaseWrapperProps<T> & React.TextareaHTMLAttributes<HTMLTextAreaElement>\r\nexport function TextareaWrapper<T extends FieldValues>({ name, label, control, className, placeholder, ...rest }: TextareaWrapperProps<T>) {\r\n  return (\r\n    <FormField\r\n      name={name}\r\n      control={control}\r\n      render={({ field }) => (\r\n        <FormItem className={className}>\r\n          {label && <FormLabel>{label}</FormLabel>}\r\n\r\n          <FormControl>\r\n            <Textarea placeholder={placeholder || `Enter ${label}`} {...rest} {...field} />\r\n          </FormControl>\r\n\r\n          <FormMessage />\r\n        </FormItem>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\ntype RadioWrapperProps<T extends FieldValues> = BaseWrapperProps<T> & {\r\n  options: (allowedPrimitiveT | optionT)[]\r\n}\r\nexport function RadioWrapper<T extends FieldValues>({ name, label, control, className, options }: RadioWrapperProps<T>) {\r\n  return (\r\n    <FormField\r\n      name={name}\r\n      control={control}\r\n      render={({ field }) => (\r\n        <FormItem className={cn(\"relative\", className)}>\r\n          {label && <FormLabel>{label}</FormLabel>}\r\n\r\n          <FormControl>\r\n            <RadioGroup\r\n              value={`${field.value}`}\r\n              onValueChange={value => field.onChange(parseAllowedPrimitive(value))}\r\n              className=\"flex items-center gap-12\"\r\n            >\r\n              {options.map((option) => (\r\n                <FormItem\r\n                  key={getValue(option)}\r\n                  className=\"flex items-center flex-row space-x-1\"\r\n                >\r\n                  <FormControl>\r\n                    <RadioGroupItem value={getValue(option)} />\r\n                  </FormControl>\r\n                  <FormLabel className=\"font-normal\">\r\n                    {getLabel(option)}\r\n                  </FormLabel>\r\n                </FormItem>\r\n              ))}\r\n            </RadioGroup>\r\n          </FormControl>\r\n\r\n          <FormMessage />\r\n        </FormItem>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\ntype SelectWrapperProps<T extends FieldValues> = BaseWrapperProps<T> & Omit<selectProps, \"value\" | \"onValueChange\">\r\nexport function SelectWrapper<T extends FieldValues>({ name, label, control, className, options, placeholder, ...props }: SelectWrapperProps<T>) {\r\n  return (\r\n    <FormField\r\n      name={name}\r\n      control={control}\r\n      render={({ field }) => (\r\n        <FormItem className={cn(\"relative\", className)}>\r\n          {label && <FormLabel>{label}</FormLabel>}\r\n          <FormControl>\r\n            <SelectPrimitiveWrapper\r\n              {...props}\r\n              options={options}\r\n              value={`${field.value}`}\r\n              placeholder={placeholder ?? `Select ${label}`}\r\n              onValueChange={value => field.onChange(parseAllowedPrimitive(value))}\r\n            />\r\n          </FormControl>\r\n\r\n          <FormMessage />\r\n        </FormItem>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\ntype DatePickerWrapperProps<T extends FieldValues> = BaseWrapperProps<T> & Omit<React.ComponentProps<typeof Calendar>, \"selected\" | \"onSelect\">\r\nexport function DatePickerWrapper<T extends FieldValues>({ name, label, control, className, ...calendarProps }: DatePickerWrapperProps<T>) {\r\n  const [open, setOpen] = useState(false)\r\n\r\n  return (\r\n    <FormField\r\n      name={name}\r\n      control={control}\r\n      render={({ field }) => (\r\n        <FormItem className={className}>\r\n          {label && <FormLabel>{label}</FormLabel>}\r\n\r\n          <Popover open={open} onOpenChange={setOpen}>\r\n            <PopoverTrigger asChild>\r\n              <FormControl>\r\n                <Button\r\n                  variant={\"outline\"}\r\n                  className={cn(\"w-full pl-3 text-left font-normal\", !field.value && \"text-muted-foreground\")}\r\n                >\r\n                  {field.value ? format(field.value, \"dd/MM/yyyy\") : <span>Pick a date</span>}\r\n                  <CalendarIcon className=\"ml-auto h-4 w-4 opacity-50\" />\r\n                </Button>\r\n              </FormControl>\r\n            </PopoverTrigger>\r\n\r\n            <PopoverContent className=\"w-auto p-0\" align=\"start\">\r\n              <Calendar\r\n                autoFocus\r\n                mode=\"single\"\r\n                captionLayout=\"dropdown\"\r\n                selected={field.value}\r\n                onSelect={(date: any) => {\r\n                  field.onChange(date)\r\n                  setOpen(false)\r\n                }}\r\n                defaultMonth={field.value}\r\n                {...calendarProps}\r\n              />\r\n            </PopoverContent>\r\n          </Popover>\r\n\r\n          <FormMessage />\r\n        </FormItem>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\ntype ComboboxWrapperProps<T extends FieldValues> = BaseWrapperProps<T> & Omit<comboboxProps, \"value\" | \"onValueChange\">\r\nexport function ComboboxWrapper<T extends FieldValues>({ name, label, control, className, placeholder, ...rest }: ComboboxWrapperProps<T>) {\r\n  return (\r\n    <FormField\r\n      name={name}\r\n      control={control}\r\n      render={({ field }) => (\r\n        <FormItem className={cn(\"relative\", className)}>\r\n          {label && <FormLabel>{label}</FormLabel>}\r\n\r\n          <FormControl>\r\n            <Combobox\r\n              {...rest}\r\n              value={field.value}\r\n              placeholder={placeholder || `Select ${label}`}\r\n              onValueChange={field.onChange}\r\n            />\r\n          </FormControl>\r\n\r\n          <FormMessage />\r\n        </FormItem>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\ntype MultiSelectComboboxWrapperProps<T extends FieldValues> = BaseWrapperProps<T> & Omit<multiSelectComboboxProps, \"value\" | \"onValueChange\">\r\nexport function MultiSelectComboboxWrapper<T extends FieldValues>({ name, label, control, className, placeholder, ...rest }: MultiSelectComboboxWrapperProps<T>) {\r\n  return (\r\n    <FormField\r\n      name={name}\r\n      control={control}\r\n      render={({ field }) => (\r\n        <FormItem className={cn(\"relative\", className)}>\r\n          {label && <FormLabel>{label}</FormLabel>}\r\n\r\n          <FormControl>\r\n            <MultiSelectCombobox\r\n              {...rest}\r\n              value={field.value}\r\n              placeholder={placeholder || `Select ${label}`}\r\n              onValueChange={field.onChange}\r\n            />\r\n          </FormControl>\r\n\r\n          <FormMessage />\r\n        </FormItem>\r\n      )}\r\n    />\r\n  )\r\n}\r\n",
      "type": "registry:ui",
      "target": "components/ui/form-wrapper.tsx"
    }
  ]
}