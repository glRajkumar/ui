{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "data-table",
  "type": "registry:ui",
  "title": "Data Table Wrapper",
  "description": "Data Table componet with wrapper",
  "dependencies": [
    "@tanstack/react-table"
  ],
  "registryDependencies": [
    "dropdown-menu",
    "select",
    "command",
    "popover",
    "button",
    "badge",
    "table"
  ],
  "files": [
    {
      "path": "types/general.d.ts",
      "content": "type readOnlyChildren = Readonly<{\r\n  children: React.ReactNode;\r\n}>\r\n\r\ntype allowedPrimitiveT = string | number | boolean\r\n\r\ntype optionT = {\r\n  label: React.ReactNode\r\n  value: allowedPrimitiveT\r\n  className?: string\r\n}\r\n\r\ntype groupT = {\r\n  group: string\r\n  options: (allowedPrimitiveT | optionT)[]\r\n  className?: string\r\n}\r\n\r\ntype optionsT = (allowedPrimitiveT | optionT | groupT)[]\r\n\r\ntype indicatorAtT = \"right\" | \"left\"",
      "type": "registry:file",
      "target": "types/general.d.ts"
    },
    {
      "path": "lib/utils.ts",
      "content": "import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function isAllowedPrimitive(value: unknown): value is allowedPrimitiveT {\r\n  return [\"string\", \"number\", \"boolean\"].includes(typeof value)\r\n}\r\n\r\nexport function parseAllowedPrimitive(value: allowedPrimitiveT): allowedPrimitiveT {\r\n  if (typeof value !== \"string\") return value\r\n\r\n  const trimmed = value.trim()\r\n\r\n  if (trimmed === \"true\") return true\r\n  if (trimmed === \"false\") return false\r\n  if (/^-?\\d+(\\.\\d+)?$/.test(trimmed)) return Number(trimmed)\r\n\r\n  return trimmed\r\n}\r\n\r\nexport function optionTypeChecker<T>(key: keyof T) {\r\n  return (option: any): option is T => !!option && typeof option === \"object\" && key in option\r\n}\r\n\r\nexport const isSeparator = (item: any) => item === \"---\"\r\nexport const isOption = optionTypeChecker<optionT>(\"value\")\r\nexport const isGroup = optionTypeChecker<groupT>(\"group\")\r\n\r\nexport const getValue = (item: any) => typeof item === \"object\" ? item.value : item\r\nexport const getLabel = (item: any) => typeof item === \"object\" ? item.label : item\r\n",
      "type": "registry:lib"
    },
    {
      "path": "components/ui/combobox.tsx",
      "content": "\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Check, ChevronsUpDown, Loader2, Plus } from \"lucide-react\"\r\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\r\n\r\nimport { cn, getLabel, getValue, isAllowedPrimitive, isGroup, isOption, isSeparator } from \"@/lib/utils\"\r\n\r\nimport {\r\n  Command,\r\n  CommandEmpty,\r\n  CommandGroup,\r\n  CommandInput,\r\n  CommandItem,\r\n  CommandList,\r\n  CommandLoading,\r\n  CommandSeparator,\r\n} from \"@/components/ui/command\"\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\n\r\nconst extractText = (node: any): string => {\r\n  if (node === null || node === undefined) return \"\"\r\n  if (isAllowedPrimitive(node)) return String(node)\r\n  if (Array.isArray(node)) return node.map(extractText).join(\" \")\r\n  if (node.props?.children) return extractText(node.props.children)\r\n  return \"\"\r\n}\r\n\r\nconst findOptionByValue = (options: optionsT, value: allowedPrimitiveT) => {\r\n  for (const item of options) {\r\n    if (isGroup(item)) {\r\n      const found = item.options.find((opt) => getValue(opt) === value)\r\n      if (found) return found\r\n    } else if (!isSeparator(item) && getValue(item) === value) {\r\n      return item\r\n    }\r\n  }\r\n  return \"\"\r\n}\r\n\r\nconst filteredOptions = (options: optionsT, query: string): optionsT => {\r\n  const q = query.toLowerCase()\r\n  const result: optionsT = []\r\n\r\n  for (const item of options) {\r\n    if (isGroup(item)) {\r\n      const filtered = item.options.filter(opt =>\r\n        extractText(getLabel(opt)).toLowerCase().includes(q)\r\n      )\r\n      if (filtered.length) {\r\n        result.push({ ...item, options: filtered })\r\n      }\r\n      continue\r\n    }\r\n\r\n    if (isSeparator(item)) {\r\n      result.push(item)\r\n      continue\r\n    }\r\n\r\n    if (extractText(getLabel(item)).toLowerCase().includes(q)) {\r\n      result.push(item)\r\n    }\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n\r\ntype ItemProps = {\r\n  option: allowedPrimitiveT | optionT\r\n  selected: boolean\r\n  className?: string\r\n  indicatorAt?: indicatorAtT\r\n  onSelect: (value: allowedPrimitiveT) => void\r\n}\r\n\r\nfunction Item({ option, selected, indicatorAt = \"right\", onSelect, className }: ItemProps) {\r\n  const value = getValue(option)\r\n  const label = getLabel(option)\r\n  const optCls = isOption(option) ? option.className : undefined\r\n\r\n  if (isSeparator(value)) return <CommandSeparator className={cn(\"my-0.5\", className, \"mx-0\")} />\r\n\r\n  return (\r\n    <CommandItem\r\n      value={`${value}`}\r\n      className={cn(indicatorAt === \"right\" ? \"pr-8 pl-2\" : \"pr-2 pl-8\", className, optCls)}\r\n      onSelect={() => onSelect(value)}\r\n    >\r\n      {typeof label === \"object\" ? label : `${label}`}\r\n\r\n      <Check\r\n        className={cn(\r\n          \"absolute size-4\",\r\n          selected ? \"opacity-100\" : \"opacity-0\",\r\n          indicatorAt === \"right\" ? \"right-2\" : \"left-2\",\r\n        )}\r\n      />\r\n    </CommandItem>\r\n  )\r\n}\r\n\r\ntype base = {\r\n  id?: string\r\n  options: optionsT\r\n  isLoading?: boolean\r\n  placeholder?: string\r\n  emptyMessage?: string\r\n\r\n  indicatorAt?: indicatorAtT\r\n  triggerCls?: string\r\n  contentCls?: string\r\n  groupCls?: string\r\n  itemCls?: string\r\n  matchTriggerWidth?: boolean\r\n\r\n  open?: boolean\r\n  onOpenChange?: (v: boolean) => void\r\n  query?: string\r\n  onQueryChange?: (v: string) => void\r\n\r\n  popoverContentProps?: Omit<React.ComponentProps<typeof PopoverPrimitive.Content>, \"className\">\r\n}\r\n\r\ntype comboboxProps = base & {\r\n  value?: allowedPrimitiveT\r\n  canCreateNew?: boolean\r\n  onValueChange?: (value: allowedPrimitiveT) => void\r\n}\r\n\r\nfunction Combobox({\r\n  id,\r\n  options = [],\r\n  isLoading,\r\n  placeholder,\r\n  emptyMessage,\r\n  canCreateNew,\r\n\r\n  matchTriggerWidth = true,\r\n  indicatorAt,\r\n  triggerCls,\r\n  contentCls,\r\n  groupCls,\r\n  itemCls,\r\n\r\n  value: o_value,\r\n  onValueChange: o_onValueChange,\r\n\r\n  query: o_query,\r\n  onQueryChange: o_onQueryChange,\r\n\r\n  open: o_open,\r\n  onOpenChange: o_onOpenChange,\r\n\r\n  popoverContentProps,\r\n}: comboboxProps) {\r\n  const [i_value, setIValue] = useState(\"\")\r\n  const [i_query, setIQuery] = useState(\"\")\r\n  const [i_open, setIOpen] = useState(false)\r\n\r\n  const value = o_value ?? i_value\r\n  const query = o_query ?? i_query\r\n  const open = o_open ?? i_open\r\n\r\n  const onValueChange = o_onValueChange ?? setIValue\r\n  const onQueryChange = o_onQueryChange ?? setIQuery\r\n  const onOpenChange = o_onOpenChange ?? setIOpen\r\n\r\n  const selectedOption = findOptionByValue(options, value)\r\n  const filtered = filteredOptions(options, query)\r\n  const label = getLabel(selectedOption)\r\n\r\n  const showCreate =\r\n    canCreateNew &&\r\n    query &&\r\n    !options.some((o) =>\r\n      isGroup(o)\r\n        ? o.options.some((x) => extractText(getLabel(x)) === query)\r\n        : extractText(getLabel(o)) === query\r\n    )\r\n\r\n  function onSelect(v: allowedPrimitiveT) {\r\n    onValueChange(v as string)\r\n    onOpenChange(false)\r\n  }\r\n\r\n  return (\r\n    <Popover open={open} onOpenChange={onOpenChange}>\r\n      <PopoverTrigger asChild>\r\n        <Button\r\n          id={id}\r\n          role=\"combobox\"\r\n          variant=\"outline\"\r\n          className={cn(\"font-normal\", triggerCls, {\r\n            \"text-muted-foreground\": !value && value !== false,\r\n          })}\r\n        >\r\n          {isLoading ? (\r\n            <>\r\n              <Loader2 className=\"size-4 animate-spin\" />\r\n              Loading...\r\n            </>\r\n          ) :\r\n            <span className=\"flex items-center gap-2 truncate\">\r\n              {\r\n                (selectedOption || selectedOption === false)\r\n                  ? typeof label === \"object\" ? label : `${label}`\r\n                  : placeholder\r\n              }\r\n            </span>\r\n          }\r\n\r\n          <ChevronsUpDown className=\"ml-auto size-4 opacity-50\" />\r\n        </Button>\r\n      </PopoverTrigger>\r\n\r\n      <PopoverContent\r\n        {...popoverContentProps}\r\n        className={cn(\"p-0\", matchTriggerWidth && \"w-[var(--radix-popover-trigger-width)]\", contentCls)}\r\n      >\r\n        <Command shouldFilter={false}>\r\n          {\r\n            !isLoading &&\r\n            <CommandInput\r\n              placeholder=\"Search...\"\r\n              value={query}\r\n              onValueChange={onQueryChange}\r\n            />\r\n          }\r\n\r\n          <CommandList className=\"py-1\">\r\n            {\r\n              isLoading &&\r\n              <CommandLoading>\r\n                <span className=\"flex items-center justify-center gap-2\">\r\n                  <Loader2 className=\"animate-spin size-4\" /> Loading...\r\n                </span>\r\n              </CommandLoading>\r\n            }\r\n\r\n            {\r\n              !isLoading &&\r\n              <CommandEmpty>{emptyMessage || \"No options found\"}</CommandEmpty>\r\n            }\r\n\r\n            {!isLoading && filtered.map((item, i) => {\r\n              if (isGroup(item)) {\r\n                return (\r\n                  <CommandGroup\r\n                    key={item.group}\r\n                    heading={item.group}\r\n                    className={cn(\"[&_[cmdk-group-heading]]:pb-0.5\", groupCls, item.className)}\r\n                  >\r\n                    {item.options.map((opt, j) => (\r\n                      <Item\r\n                        key={`g-${i}-${j}`}\r\n                        option={opt}\r\n                        selected={getValue(opt) === value}\r\n                        onSelect={onSelect}\r\n                        className={itemCls}\r\n                        indicatorAt={indicatorAt}\r\n                      />\r\n                    ))}\r\n                  </CommandGroup>\r\n                )\r\n              }\r\n\r\n              return (\r\n                <Item\r\n                  key={`i-${i}`}\r\n                  option={item}\r\n                  selected={getValue(item) === value}\r\n                  onSelect={onSelect}\r\n                  indicatorAt={indicatorAt}\r\n                  className={cn(\"mx-1\", itemCls)}\r\n                />\r\n              )\r\n            })}\r\n\r\n            {showCreate && (\r\n              <CommandGroup>\r\n                <CommandItem\r\n                  value={`__create-${query}`}\r\n                  onSelect={() => {\r\n                    onValueChange(query)\r\n                    onQueryChange(\"\")\r\n                    onOpenChange(false)\r\n                  }}\r\n                >\r\n                  <Plus className=\"mr-2 h-4 w-4\" /> Create: {query}\r\n                </CommandItem>\r\n              </CommandGroup>\r\n            )}\r\n          </CommandList>\r\n        </Command>\r\n      </PopoverContent>\r\n    </Popover>\r\n  )\r\n}\r\n\r\ntype btnLableProps = {\r\n  value: allowedPrimitiveT[]\r\n  options: optionsT\r\n  isLoading?: boolean\r\n  placeholder?: string\r\n  maxVisibleCount?: number\r\n}\r\nfunction ButtonLabel({\r\n  value,\r\n  options,\r\n  isLoading,\r\n  placeholder,\r\n  maxVisibleCount = 2,\r\n}: btnLableProps) {\r\n  const labelOf = (val: allowedPrimitiveT) => {\r\n    const found = findOptionByValue(options, val)\r\n    if (!found) return `${val}`\r\n    const label = getLabel(found)\r\n    return typeof label === \"object\" ? label : `${label}`\r\n  }\r\n\r\n  if (isLoading)\r\n    return (\r\n      <>\r\n        <Loader2 className=\"size-4 animate-spin\" />\r\n        Loading...\r\n      </>\r\n    )\r\n\r\n  if (value.length === 0) {\r\n    return placeholder\r\n  }\r\n\r\n  if (value.length <= maxVisibleCount) {\r\n    return (\r\n      <>\r\n        {value.map((v) => (\r\n          <Badge key={String(v)} variant=\"secondary\" className=\"rounded-sm px-1 font-normal\">\r\n            {labelOf(v)}\r\n          </Badge>\r\n        ))}\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Badge variant=\"secondary\" className=\"rounded-sm px-1 font-normal\">\r\n      {value.length} selected\r\n    </Badge>\r\n  )\r\n}\r\n\r\ntype multiSelectComboboxProps = base & {\r\n  value?: allowedPrimitiveT[]\r\n  maxVisibleCount?: number\r\n  label?: React.ReactNode\r\n  onValueChange?: (v: allowedPrimitiveT[]) => void\r\n}\r\n\r\nfunction MultiSelectCombobox({\r\n  id,\r\n  options = [],\r\n  isLoading,\r\n  placeholder,\r\n  emptyMessage,\r\n\r\n  matchTriggerWidth = true,\r\n  maxVisibleCount,\r\n  indicatorAt,\r\n  triggerCls,\r\n  contentCls,\r\n  groupCls,\r\n  itemCls,\r\n  label,\r\n\r\n  value: o_value,\r\n  onValueChange: o_onValueChange,\r\n\r\n  query: o_query,\r\n  onQueryChange: o_onQueryChange,\r\n\r\n  open: o_open,\r\n  onOpenChange: o_onOpenChange,\r\n  popoverContentProps,\r\n}: multiSelectComboboxProps) {\r\n  const [i_value, setIValue] = useState<allowedPrimitiveT[]>([])\r\n  const [i_query, setIQuery] = useState(\"\")\r\n  const [i_open, setIOpen] = useState(false)\r\n\r\n  const value = o_value ?? i_value\r\n  const query = o_query ?? i_query\r\n  const open = o_open ?? i_open\r\n\r\n  const onValueChange = o_onValueChange ?? setIValue\r\n  const onQueryChange = o_onQueryChange ?? setIQuery\r\n  const onOpenChange = o_onOpenChange ?? setIOpen\r\n\r\n  const filtered = filteredOptions(options, query)\r\n\r\n  const onSelect = (v: allowedPrimitiveT) => {\r\n    onValueChange(value.includes(v) ? value.filter((x) => x !== v) : [...value, v])\r\n  }\r\n\r\n  return (\r\n    <Popover open={open} onOpenChange={onOpenChange}>\r\n      <PopoverTrigger asChild>\r\n        <Button\r\n          id={id}\r\n          role=\"combobox\"\r\n          variant=\"outline\"\r\n          aria-expanded={open}\r\n          className={cn(\"font-normal\", triggerCls, {\r\n            \"text-muted-foreground\": value.length === 0,\r\n          })}\r\n        >\r\n          {label}\r\n\r\n          <ButtonLabel\r\n            value={value}\r\n            options={options}\r\n            isLoading={isLoading}\r\n            placeholder={placeholder}\r\n            maxVisibleCount={maxVisibleCount}\r\n          />\r\n\r\n          <ChevronsUpDown className=\"ml-auto size-4 opacity-50\" />\r\n        </Button>\r\n      </PopoverTrigger>\r\n\r\n      <PopoverContent\r\n        {...popoverContentProps}\r\n        className={cn(\"p-0\", matchTriggerWidth && \"w-[var(--radix-popover-trigger-width)]\", contentCls)}\r\n      >\r\n        <Command shouldFilter={false}>\r\n          {\r\n            !isLoading &&\r\n            <CommandInput\r\n              placeholder=\"Search...\"\r\n              value={query}\r\n              onValueChange={onQueryChange}\r\n            />\r\n          }\r\n\r\n          <CommandList className=\"py-1\">\r\n            {\r\n              isLoading &&\r\n              <CommandLoading>\r\n                <span className=\"flex items-center justify-center gap-2\">\r\n                  <Loader2 className=\"animate-spin size-4\" /> Loading...\r\n                </span>\r\n              </CommandLoading>\r\n            }\r\n\r\n            {\r\n              !isLoading &&\r\n              <CommandEmpty>{emptyMessage || \"No options found\"}</CommandEmpty>\r\n            }\r\n\r\n            {!isLoading && filtered.map((item, i) => {\r\n              if (isGroup(item)) {\r\n                return (\r\n                  <CommandGroup\r\n                    key={item.group}\r\n                    heading={item.group}\r\n                    className={cn(\"[&_[cmdk-group-heading]]:pb-0.5\", groupCls, item.className)}\r\n                  >\r\n                    {item.options.map((opt, j) => (\r\n                      <Item\r\n                        key={`g-${i}-${j}`}\r\n                        option={opt}\r\n                        selected={value.includes(getValue(opt))}\r\n                        onSelect={onSelect}\r\n                        indicatorAt={indicatorAt}\r\n                        className={itemCls}\r\n                      />\r\n                    ))}\r\n                  </CommandGroup>\r\n                )\r\n              }\r\n\r\n              return (\r\n                <Item\r\n                  key={`i-${i}`}\r\n                  option={item}\r\n                  selected={value.includes(getValue(item))}\r\n                  onSelect={onSelect}\r\n                  indicatorAt={indicatorAt}\r\n                  className={cn(\"mx-1 mb-1\", itemCls)}\r\n                />\r\n              )\r\n            })}\r\n\r\n            {value.length > 0 && (\r\n              <>\r\n                <CommandSeparator />\r\n                <CommandGroup>\r\n                  <CommandItem onSelect={() => onValueChange([])} value=\"__clear__\" className=\"justify-center\">\r\n                    Clear selection(s)\r\n                  </CommandItem>\r\n                </CommandGroup>\r\n              </>\r\n            )}\r\n          </CommandList>\r\n        </Command>\r\n      </PopoverContent>\r\n    </Popover>\r\n  )\r\n}\r\n\r\nexport {\r\n  Combobox,\r\n  MultiSelectCombobox,\r\n  type comboboxProps,\r\n  type multiSelectComboboxProps,\r\n}",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/data-table/column-faceted-filter.tsx",
      "content": "import { Column } from \"@tanstack/react-table\";\r\n\r\nimport { MultiSelectCombobox, type multiSelectComboboxProps } from \"../combobox\";\r\nimport { getValue } from \"@/lib/utils\";\r\n\r\ninterface ColumnFacetedFilterProps<TData, TValue>\r\n  extends Omit<multiSelectComboboxProps, 'options' | 'value' | 'onValueChange' | 'label'> {\r\n  column?: Column<TData, TValue>\r\n  title: React.ReactNode\r\n  options: optionsT\r\n}\r\n\r\nexport function ColumnFacetedFilter<TData, TValue>({\r\n  column,\r\n  title,\r\n  options,\r\n  ...props\r\n}: ColumnFacetedFilterProps<TData, TValue>) {\r\n  const facets = column?.getFacetedUniqueValues()\r\n\r\n  const newOptions = options.map(option => {\r\n    const value = getValue(option)\r\n    const label = getValue(option)\r\n\r\n    return {\r\n      label: <>\r\n        {label}\r\n        {facets?.get(value) && (\r\n          <span className=\"ml-auto flex h-4 w-4 items-center justify-center text-xs\">\r\n            {facets.get(value)}\r\n          </span>\r\n        )}</>,\r\n      value,\r\n    }\r\n  })\r\n\r\n  function onSelect(selected: allowedPrimitiveT[]) {\r\n    column?.setFilterValue(selected?.length ? selected : undefined)\r\n  }\r\n\r\n  return (\r\n    <MultiSelectCombobox\r\n      options={newOptions}\r\n      value={column?.getFilterValue() as string[]}\r\n      onValueChange={onSelect}\r\n      label={typeof title === \"object\" ? title : <span className=\"font-semibold\">{title}</span>}\r\n      indicatorAt=\"left\"\r\n      contentCls=\"w-fit\"\r\n      matchTriggerWidth={false}\r\n      {...props}\r\n    />\r\n  )\r\n}",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/data-table/column-filter.tsx",
      "content": "import { Column } from \"@tanstack/react-table\";\r\n\r\nimport { MultiSelectCombobox, type multiSelectComboboxProps } from \"../combobox\";\r\n\r\ninterface ColumndFilterProps<TData, TValue>\r\n  extends Omit<multiSelectComboboxProps, 'options' | 'value' | 'onValueChange' | 'label'> {\r\n  column?: Column<TData, TValue>\r\n  title: React.ReactNode\r\n  options: optionsT\r\n}\r\n\r\nexport function ColumnFilter<TData, TValue>({\r\n  column,\r\n  title,\r\n  options,\r\n  ...props\r\n}: ColumndFilterProps<TData, TValue>) {\r\n  function onSelect(selected: allowedPrimitiveT[]) {\r\n    column?.setFilterValue(selected?.length ? selected : undefined)\r\n  }\r\n\r\n  return (\r\n    <MultiSelectCombobox\r\n      options={options}\r\n      value={column?.getFilterValue() as string[]}\r\n      onValueChange={onSelect}\r\n      label={typeof title === \"object\" ? title : <span className=\"font-semibold\">{title}</span>}\r\n      contentCls=\"w-fit\"\r\n      matchTriggerWidth={false}\r\n      {...props}\r\n    />\r\n  )\r\n}",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/data-table/column-header.tsx",
      "content": "import { ArrowDown, ArrowUp, ChevronsUpDown, EyeOff } from \"lucide-react\";\r\nimport { Column } from \"@tanstack/react-table\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\n\r\ninterface ColumnHeaderProps<TData, TValue> {\r\n  className?: string\r\n  column: Column<TData, TValue>\r\n  title: React.ReactNode\r\n}\r\n\r\nexport function ColumnHeader<TData, TValue>({\r\n  column,\r\n  title,\r\n  className,\r\n}: ColumnHeaderProps<TData, TValue>) {\r\n  if (!column.getCanSort()) return <div className={cn(className)}>{title}</div>\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button\r\n          variant=\"ghost\"\r\n          className={cn(\"-ml-2\", className)}\r\n        >\r\n          {title}\r\n          {column.getIsSorted() === \"desc\" ? (\r\n            <ArrowDown />\r\n          ) : column.getIsSorted() === \"asc\" ? (\r\n            <ArrowUp />\r\n          ) : (\r\n            <ChevronsUpDown />\r\n          )}\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n\r\n      <DropdownMenuContent align=\"start\">\r\n        <DropdownMenuItem\r\n          onClick={() => column.getIsSorted() !== \"asc\" ? column.toggleSorting(false) : column.clearSorting()}\r\n        >\r\n          <ArrowUp className=\"h-3.5 w-3.5 text-muted-foreground/70\" />\r\n          Asc\r\n        </DropdownMenuItem>\r\n\r\n        <DropdownMenuItem\r\n          onClick={() => column.getIsSorted() !== \"desc\" ? column.toggleSorting(true) : column.clearSorting()}\r\n        >\r\n          <ArrowDown className=\"h-3.5 w-3.5 text-muted-foreground/70\" />\r\n          Desc\r\n        </DropdownMenuItem>\r\n\r\n        <DropdownMenuSeparator />\r\n\r\n        <DropdownMenuItem onClick={() => column.toggleVisibility(false)}>\r\n          <EyeOff className=\"h-3.5 w-3.5 text-muted-foreground/70\" />\r\n          Hide Column\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  )\r\n}",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/data-table/column-sorter.tsx",
      "content": "import { ChevronsDown, ChevronsUp, ChevronsUpDown } from \"lucide-react\";\r\nimport { Column } from \"@tanstack/react-table\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ninterface ColumnHeaderProps<TData, TValue> {\r\n  className?: string\r\n  column: Column<TData, TValue>\r\n  title: React.ReactNode\r\n}\r\n\r\nexport function ColumnSorter<TData, TValue>({\r\n  column,\r\n  title,\r\n  className,\r\n}: ColumnHeaderProps<TData, TValue>) {\r\n  if (!column.getCanSort()) return <div className={cn(className)}>{title}</div>\r\n\r\n  const sorted = column.getIsSorted()\r\n\r\n  function onSort() {\r\n    if (sorted === \"asc\") {\r\n      column.toggleSorting(true)\r\n    } else if (sorted === \"desc\") {\r\n      column.clearSorting()\r\n    } else {\r\n      column.toggleSorting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Button\r\n      variant=\"ghost\"\r\n      className={cn(\"-ml-2\", className)}\r\n      onClick={onSort}\r\n    >\r\n      {title}\r\n      {sorted === \"desc\" ? (\r\n        <ChevronsDown className=\"ml-4 opacity-80\" />\r\n      ) : sorted === \"asc\" ? (\r\n        <ChevronsUp className=\"ml-4 opacity-80\" />\r\n      ) : (\r\n        <ChevronsUpDown className=\"ml-4 opacity-80\" />\r\n      )}\r\n    </Button>\r\n  )\r\n}\r\n",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/data-table/column-toggle.tsx",
      "content": "\"use client\";\r\n\r\nimport { DropdownMenuTrigger } from \"@radix-ui/react-dropdown-menu\";\r\nimport { Settings2 } from \"lucide-react\";\r\nimport { Table } from \"@tanstack/react-table\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuContent,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n} from \"@/components/ui/dropdown-menu\";\r\n\r\ninterface ColumnToggleProps<TData> {\r\n  table: Table<TData>\r\n}\r\n\r\nexport function ColumnToggle<TData>({ table }: ColumnToggleProps<TData>) {\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"outline\">\r\n          <Settings2 />\r\n          View\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n\r\n      <DropdownMenuContent align=\"end\" className=\"w-[150px]\">\r\n        <DropdownMenuLabel>Toggle columns</DropdownMenuLabel>\r\n        <DropdownMenuSeparator />\r\n        {table\r\n          .getAllColumns()\r\n          .filter(\r\n            (column) =>\r\n              typeof column.accessorFn !== \"undefined\" && column.getCanHide()\r\n          )\r\n          .map((column) => (\r\n            <DropdownMenuCheckboxItem\r\n              key={column.id}\r\n              className=\"capitalize\"\r\n              checked={column.getIsVisible()}\r\n              onCheckedChange={(value) => column.toggleVisibility(!!value)}\r\n            >\r\n              {column.id?.replace(\"_\", \" \")}\r\n            </DropdownMenuCheckboxItem>\r\n          ))}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  )\r\n}\r\n",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/data-table/data-table.tsx",
      "content": "\"use client\";\r\n\r\nimport { flexRender, Table as TanstackTable } from \"@tanstack/react-table\";\r\n\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\n\r\ninterface DataTableProps<TData> {\r\n  table: TanstackTable<TData>\r\n  emptyMessage?: string\r\n  className?: string\r\n}\r\n\r\nexport function DataTable<TData>({\r\n  table,\r\n  emptyMessage = \"No matching results.\",\r\n  className = \"\",\r\n}: DataTableProps<TData>) {\r\n  const columnCount = table?.getAllColumns()?.length\r\n  const rows = table?.getRowModel()?.rows\r\n  const hasRows = rows?.length > 0\r\n\r\n  return (\r\n    <Table className={className}>\r\n      <TableHeader>\r\n        {table?.getHeaderGroups().map((headerGroup) => (\r\n          <TableRow key={headerGroup.id} className=\"hover:bg-transparent\">\r\n            {headerGroup.headers.map((header) => (\r\n              <TableHead key={header.id} className=\"text-theme-grey-text\">\r\n                {header.isPlaceholder ? null : flexRender(\r\n                  header.column.columnDef.header,\r\n                  header.getContext()\r\n                )}\r\n              </TableHead>\r\n            ))}\r\n          </TableRow>\r\n        ))}\r\n      </TableHeader>\r\n\r\n      <TableBody>\r\n        {hasRows ? (\r\n          rows.map((row) => (\r\n            <TableRow\r\n              key={row.id}\r\n              data-state={row.getIsSelected() && \"selected\"}\r\n            >\r\n              {row.getVisibleCells().map((cell) => (\r\n                <TableCell key={cell.id} className=\"text-[13px] capitalize\">\r\n                  {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          ))\r\n        ) : (\r\n          <TableRow className=\"hover:bg-transparent\">\r\n            <TableCell colSpan={columnCount} className=\"border-b\">\r\n              <div className=\"dc h-32 my-4 text-sm text-center\">\r\n                {emptyMessage}\r\n              </div>\r\n            </TableCell>\r\n          </TableRow>\r\n        )}\r\n      </TableBody>\r\n    </Table>\r\n  )\r\n}\r\n",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/data-table/filter-group.tsx",
      "content": "import { useState } from \"react\";\r\nimport { CirclePlus } from \"lucide-react\";\r\nimport { Table } from \"@tanstack/react-table\";\r\n\r\nimport { DropdownCheckboxWrapper } from \"../dropdown\";\r\nimport { ColumnFilter } from \"./column-filter\";\r\nimport { Button } from \"../button\";\r\n\r\ninterface FilterGroupProps<TData> {\r\n  table: Table<TData>\r\n  options: {\r\n    value: string\r\n    lable: React.ReactNode\r\n    options: optionsT\r\n  }[]\r\n  indicatorAt?: indicatorAtT\r\n}\r\n\r\nexport function FilterGroup<TData>({ table, options, indicatorAt }: FilterGroupProps<TData>) {\r\n  const [selected, setSelected] = useState<allowedPrimitiveT[]>([])\r\n\r\n  return (\r\n    <>\r\n      {\r\n        options\r\n          .filter(f => selected.includes(f.value))\r\n          .map(opt => (\r\n            <ColumnFilter\r\n              key={opt.value}\r\n              title={opt.lable}\r\n              column={table.getColumn(opt.value)}\r\n              options={opt.options}\r\n            />\r\n          ))\r\n      }\r\n\r\n      <DropdownCheckboxWrapper\r\n        checked={selected}\r\n        onCheckedChange={(val, checked) => setSelected(prev => !checked ? prev.filter(p => !p) : [...prev, val])}\r\n        options={options.map(m => ({ label: m.lable, value: m.value }))}\r\n        indicatorAt={indicatorAt}\r\n      >\r\n        <Button variant=\"outline\">\r\n          <CirclePlus className=\"size-4\" />\r\n          <span>Filter</span>\r\n        </Button>\r\n      </DropdownCheckboxWrapper>\r\n    </>\r\n  )\r\n}\r\n",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/data-table/pagination.tsx",
      "content": "import { ChevronLeft, ChevronRight, ChevronsLeft, ChevronsRight } from \"lucide-react\";\r\nimport { Table } from \"@tanstack/react-table\";\r\n\r\nimport { SelectWrapper } from \"@/components/ui/select\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ninterface PaginationProps<TData> {\r\n  table: Table<TData>\r\n}\r\n\r\nexport function Pagination<TData>({ table }: PaginationProps<TData>) {\r\n  return (\r\n    <div className=\"flex items-center justify-between flex-wrap gap-2 px-2 mt-4\">\r\n      <div className=\"flex-1 whitespace-nowrap text-sm text-muted-foreground\">\r\n        Total: {table.getFilteredRowModel().rows.length} row(s)\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-2\">\r\n        <p className=\"text-xs\">Rows per page</p>\r\n        <SelectWrapper\r\n          value={`${table.getState().pagination.pageSize}`}\r\n          onValueChange={(value) => table.setPageSize(Number(value))}\r\n          options={[10, 20, 30, 40, 50]}\r\n          placeholder={`${table.getState().pagination.pageSize}`}\r\n          triggerCls=\"h-8 w-[70px]\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"text-xs mx-2\">\r\n        Page {table.getState().pagination.pageIndex + 1} of{\" \"}\r\n        {table.getPageCount()}\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-2\">\r\n        <Button\r\n          variant=\"outline\"\r\n          className=\"hidden h-8 w-8 p-0 lg:flex\"\r\n          onClick={() => table.setPageIndex(0)}\r\n          disabled={!table.getCanPreviousPage()}\r\n        >\r\n          <span className=\"sr-only\">Go to first page</span>\r\n          <ChevronsLeft className=\"size-4\" />\r\n        </Button>\r\n\r\n        <Button\r\n          variant=\"outline\"\r\n          className=\"h-8 w-8 p-0\"\r\n          onClick={() => table.previousPage()}\r\n          disabled={!table.getCanPreviousPage()}\r\n        >\r\n          <span className=\"sr-only\">Go to previous page</span>\r\n          <ChevronLeft className=\"size-4\" />\r\n        </Button>\r\n\r\n        <Button\r\n          variant=\"outline\"\r\n          className=\"h-8 w-8 p-0\"\r\n          onClick={() => table.nextPage()}\r\n          disabled={!table.getCanNextPage()}\r\n        >\r\n          <span className=\"sr-only\">Go to next page</span>\r\n          <ChevronRight className=\"size-4\" />\r\n        </Button>\r\n\r\n        <Button\r\n          variant=\"outline\"\r\n          className=\"hidden h-8 w-8 p-0 lg:flex\"\r\n          onClick={() => table.setPageIndex(table.getPageCount() - 1)}\r\n          disabled={!table.getCanNextPage()}\r\n        >\r\n          <span className=\"sr-only\">Go to last page</span>\r\n          <ChevronsRight className=\"size-4\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/data-table/use-table.ts",
      "content": "\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nimport {\r\n  ColumnDef,\r\n  ColumnFiltersState,\r\n  SortingState,\r\n  VisibilityState,\r\n  getCoreRowModel,\r\n  getFacetedRowModel,\r\n  getFacetedUniqueValues,\r\n  getFilteredRowModel,\r\n  getPaginationRowModel,\r\n  getSortedRowModel,\r\n  useReactTable,\r\n} from \"@tanstack/react-table\";\r\n\r\ninterface useTableProps<TData, TValue> {\r\n  data: TData[];\r\n  columns: ColumnDef<TData, TValue>[];\r\n}\r\n\r\nexport function useTable<TData, TValue>({ data, columns }: useTableProps<TData, TValue>) {\r\n  const [columnVisibility, setColumnVisibility] = useState<VisibilityState>({})\r\n  const [columnFilters, setColumnFilters] = useState<ColumnFiltersState>([])\r\n  const [sorting, setSorting] = useState<SortingState>([])\r\n\r\n  const [rowSelection, setRowSelection] = useState({})\r\n  const [globalFilter, setGlobalFilter] = useState('')\r\n\r\n  return useReactTable({\r\n    data,\r\n    columns,\r\n    state: {\r\n      sorting,\r\n      columnVisibility,\r\n      rowSelection,\r\n      columnFilters,\r\n      globalFilter,\r\n    },\r\n    enableRowSelection: true,\r\n    onRowSelectionChange: setRowSelection,\r\n    onSortingChange: setSorting,\r\n    onColumnFiltersChange: setColumnFilters,\r\n    onColumnVisibilityChange: setColumnVisibility,\r\n    onGlobalFilterChange: setGlobalFilter,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getFilteredRowModel: getFilteredRowModel(),\r\n    getPaginationRowModel: getPaginationRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n    getFacetedRowModel: getFacetedRowModel(),\r\n    getFacetedUniqueValues: getFacetedUniqueValues(),\r\n  })\r\n}\r\n\r\nexport default useTable",
      "type": "registry:ui"
    },
    {
      "path": "components/ui/data-table/index-no-virt.tsx",
      "content": "export * from \"./column-faceted-filter\";\r\nexport * from \"./column-header\";\r\nexport * from \"./column-filter\";\r\nexport * from \"./column-sorter\";\r\nexport * from \"./column-toggle\";\r\nexport * from \"./filter-group\";\r\nexport * from \"./pagination\";\r\nexport * from \"./data-table\";\r\nexport * from \"./use-table\";",
      "type": "registry:ui",
      "target": "components/ui/data-table/index.tsx"
    }
  ]
}